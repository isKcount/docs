import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,f as e}from"./app.ca0279c0.js";const i={},t=e(`<h1 id="dhcp-\u670D\u52A1\u4E0E\u7BA1\u7406" tabindex="-1"><a class="header-anchor" href="#dhcp-\u670D\u52A1\u4E0E\u7BA1\u7406" aria-hidden="true">#</a> DHCP \u670D\u52A1\u4E0E\u7BA1\u7406</h1><h3 id="\u638C\u63E1\u8981\u70B9" tabindex="-1"><a class="header-anchor" href="#\u638C\u63E1\u8981\u70B9" aria-hidden="true">#</a> \u638C\u63E1\u8981\u70B9</h3><blockquote><p>\uFF081\uFF09\u4E86\u89E3 DHCP \u670D\u52A1\u7684\u5B89\u88C5\u4E0E\u914D\u7F6E\u3002</p><p>\uFF082\uFF09\u4F7F\u7528 DHCP \u670D\u52A1\u5B8C\u6210\u4E3B\u673A IP \u7684\u81EA\u52A8\u83B7\u53D6\u3002</p></blockquote><h3 id="\u90E8\u7F72\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u90E8\u7F72\u6D41\u7A0B" aria-hidden="true">#</a> \u90E8\u7F72\u6D41\u7A0B</h3><h5 id="_1-\u89C4\u5212\u8282\u70B9" tabindex="-1"><a class="header-anchor" href="#_1-\u89C4\u5212\u8282\u70B9" aria-hidden="true">#</a> 1.\u89C4\u5212\u8282\u70B9</h5><table><thead><tr><th><strong>IP</strong></th><th>\u4E3B\u673A\u540D</th><th>\u8282\u70B9</th></tr></thead><tbody><tr><td>11.0.1.128 192.168.2.2(LAN1)</td><td>xnode1</td><td>DHCP \u670D\u52A1\u5668</td></tr><tr><td>11.0.1.129 \uFF08DHCP-LAN1\uFF09</td><td>client</td><td>DHCP \u5BA2\u6237\u7AEF</td></tr></tbody></table><h5 id="_2-\u6DFB\u52A0\u7F51\u5361-\u4E24\u4E2A\u8282\u70B9" tabindex="-1"><a class="header-anchor" href="#_2-\u6DFB\u52A0\u7F51\u5361-\u4E24\u4E2A\u8282\u70B9" aria-hidden="true">#</a> 2.\u6DFB\u52A0\u7F51\u5361\uFF08\u4E24\u4E2A\u8282\u70B9\uFF09</h5><p>\u26AB\u6253\u5F00\u865A\u62DF\u673A\u8BBE\u7F6E\u6DFB\u52A0\u7F51\u5361\uFF0C\u5355\u51FB\u201C\u6DFB\u52A0\u201D\u6309\u94AE\uFF0C\u5982\u56FE</p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/2756864799zhang/image/main/img/202204111250466.png" alt="image-20220211105731296" style="zoom:67%;"><p>\u26AB\u5728\u5F39\u51FA\u7684\u5BF9\u8BDD\u6846\u4E2D\uFF0C\u9009\u62E9\u7F51\u7EDC\u9002\u914D\u5668\uFF0C\u7136\u540E\u5355\u51FB\u201C\u5B8C\u6210\u201D\u6309\u94AE</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/2756864799zhang/image/main/img/202204111250371.png" alt="image-20220211105829688" loading="lazy"></p><p>\u26AB\u9009\u62E9\u7F51\u7EDC\u9002\u914D\u5668 2\uFF0C\u8BBE\u7F6E\u6A21\u5F0F\u4E3A LAN \u533A\u6BB5\uFF0C\u9009\u62E9 LAN \u533A\u6BB5 1\uFF0C\u5982\u56FE 3-15-3 \u6240\u793A\u3002\u5982\u679C\u6CA1\u6709 LAN \u533A\u6BB5 1\uFF0C\u5355\u51FB\u4E0B\u65B9\u201CLAN \u533A\u6BB5\uFF08S\uFF09\u201D\u6309\u94AE\uFF0C\u7136\u540E\u5728\u5F39\u51FA\u7684\u5BF9\u8BDD\u6846\u4E2D\u5355\u51FB\u201C\u6DFB\u52A0\u201D \u6309\u94AE\uFF0C\u6700\u540E\u5355\u51FB\u201C\u786E\u5B9A\u201D\u6309\u94AE</p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/2756864799zhang/image/main/img/202204111250732.png" alt="image-20220211105848890" style="zoom:67%;"><p>\u26AB\u4F7F\u7528 ip a \u547D\u4EE4\u53EF\u4EE5\u67E5\u770B\u5230\u65B0\u6DFB\u52A0\u7684\u7F51\u5361\uFF0C\u4F46\u5E76\u6CA1\u6709\u76F8\u5173\u914D\u7F6E\u6587\u4EF6</p><p>![img](file:///C:/Users/zyh/AppData/Local/Temp/msohtmlclip1/01/clip_image002.gif)</p><h5 id="_3-\u4FEE\u6539\u7F51\u5361\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-\u4FEE\u6539\u7F51\u5361\u914D\u7F6E" aria-hidden="true">#</a> 3.\u4FEE\u6539\u7F51\u5361\u914D\u7F6E</h5><p>\u26AB\u5728DHCP\u670D\u52A1\u7AEF\u8FDB\u5165\u7F51\u5361\u914D\u7F6E\u6587\u4EF6\u76EE\u5F55\uFF0C\u590D\u5236\u7B2C\u4E00\u5757\u7F51\u5361\u914D\u7F6E\u3002</p><p>\u26AB\u4FEE\u6539\u7F51\u5361\u914D\u7F6E\u6587\u4EF6\u3002</p><p>\u26AB\u542F\u52A8\u7F51\u5361\u5E76\u67E5\u770B\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@xnode1 ~<span class="token punctuation">]</span><span class="token comment"># cd /etc/sysconfig/network-scripts/ </span>
<span class="token punctuation">[</span>root@xnode1 network-scripts<span class="token punctuation">]</span><span class="token comment"># cp -rvf ifcfg-eno16777736 ifcfg-eno33554984 </span>
<span class="token punctuation">[</span>root@xnode1 network-scripts<span class="token punctuation">]</span><span class="token comment"># vi ifcfg-eno33554984  </span>
<span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet 
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>static 
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>yes 
<span class="token assign-left variable">PEERDNS</span><span class="token operator">=</span>yes 
<span class="token assign-left variable">PEERROUTES</span><span class="token operator">=</span>yes 
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span>no 
<span class="token assign-left variable">NAME</span><span class="token operator">=</span>eno33554984 
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>eno33554984 
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes 
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.2.2 
<span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token number">24</span> 
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.2.1 

<span class="token punctuation">[</span>root@xnode1 ~<span class="token punctuation">]</span><span class="token comment"># ifup eno33554984</span>
<span class="token punctuation">[</span>root@xnode1 ~<span class="token punctuation">]</span><span class="token comment"># ip a</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN 
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope <span class="token function">host</span> 
       valid_lft forever preferred_lft forever
<span class="token number">2</span>: eno16777736: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc pfifo_fast state UP qlen <span class="token number">1000</span>
    link/ether 00:0c:29:8d:4e:69 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">11.0</span>.1.128/24 brd <span class="token number">11.0</span>.1.255 scope global dynamic eno16777736
       valid_lft 1579sec preferred_lft 1579sec
    inet6 fd15:4ba5:5a2b:1008:20c:29ff:fe8d:4e69/64 scope global noprefixroute dynamic 
       valid_lft 86395sec preferred_lft 14395sec
    inet6 fe80::20c:29ff:fe8d:4e69/64 scope <span class="token function">link</span> 
       valid_lft forever preferred_lft forever
<span class="token number">3</span>: eno33554984: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc pfifo_fast state UP qlen <span class="token number">1000</span>
    link/ether 00:0c:29:8d:4e:73 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">192.168</span>.2.2/24 brd <span class="token number">192.168</span>.2.255 scope global eno33554984
       valid_lft forever preferred_lft forever
    inet6 fe80::20c:29ff:fe8d:4e73/64 scope <span class="token function">link</span> 
       valid_lft forever preferred_lft forever
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-\u5B89\u88C5\u914D\u7F6Edhcp" tabindex="-1"><a class="header-anchor" href="#_4-\u5B89\u88C5\u914D\u7F6Edhcp" aria-hidden="true">#</a> 4.\u5B89\u88C5\u914D\u7F6EDHCP</h5><p>\u26AB\u5B89\u88C5 DHCP \u670D\u52A1\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@xnode1 ~<span class="token punctuation">]</span><span class="token comment"># yum install -y  dhcp</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_5-dhcp\u7684\u914D\u7F6E\u6587\u4EF6\u6A21\u677F" tabindex="-1"><a class="header-anchor" href="#_5-dhcp\u7684\u914D\u7F6E\u6587\u4EF6\u6A21\u677F" aria-hidden="true">#</a> 5.DHCP\u7684\u914D\u7F6E\u6587\u4EF6\u6A21\u677F</h5><p>\u26AB\u53EF\u4EE5\u5728\u4EE5\u4E0B\u7684\u6A21\u677F\u4E2D\u627E\u5230DHCP\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u53EA\u9700\u8981\u627E\u5230\u5BF9\u5E94\u9700\u8981\u7684\u53BB\u66F4\u6539\u5C31\u53EF\u4EE5\u4E86\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@xnode1 ~<span class="token punctuation">]</span><span class="token comment">#  cat /usr/share/doc/dhcp-4.2.5/dhcpd.conf.example</span>
<span class="token comment">#</span>
<span class="token comment"># DHCP Server Configuration file.</span>
<span class="token comment">#   see /usr/share/doc/dhcp*/dhcpd.conf.example</span>
<span class="token comment">#   see dhcpd.conf(5) man page</span>
<span class="token comment">#</span>
<span class="token comment"># dhcpd.conf</span>
<span class="token comment">#</span>
<span class="token comment"># Sample configuration file for ISC dhcpd</span>
<span class="token comment">#</span>

<span class="token comment"># option definitions common to all supported networks...</span>
option domain-name <span class="token string">&quot;example.org&quot;</span><span class="token punctuation">;</span>
option domain-name-servers ns1.example.org, ns2.example.org<span class="token punctuation">;</span>

default-lease-time <span class="token number">600</span><span class="token punctuation">;</span>         <span class="token comment">#\u9ED8\u8BA4\u79DF\u7EA6\u65F6\u95F4\u5355\u4F4D\u79D2</span>
max-lease-time <span class="token number">7200</span><span class="token punctuation">;</span>            <span class="token comment">#\u6700\u5927\u79DF\u7EA6\u65F6\u95F4\u5355\u4F4D\u79D2</span>

<span class="token comment"># Use this to enble / disable dynamic dns updates globally.</span>
<span class="token comment">#ddns-update-style none;</span>

<span class="token comment"># If this DHCP server is the official DHCP server for the local</span>
<span class="token comment"># network, the authoritative directive should be uncommented.</span>
<span class="token comment">#authoritative;</span>

<span class="token comment"># Use this to send dhcp log messages to a different log file (you also</span>
<span class="token comment"># have to hack syslog.conf to complete the redirection).</span>
log-facility local7<span class="token punctuation">;</span>

<span class="token comment"># No service will be given on this subnet, but declaring it helps the </span>
<span class="token comment"># DHCP server to understand the network topology.</span>

subnet <span class="token number">10.152</span>.187.0 netmask <span class="token number">255.255</span>.255.0 <span class="token punctuation">{</span>       <span class="token comment">#\u5B9A\u4E49\u5B50\u7F51</span>
<span class="token punctuation">}</span>

<span class="token comment"># This is a very basic subnet declaration.</span>

subnet <span class="token number">10.254</span>.239.0 netmask <span class="token number">255.255</span>.255.224 <span class="token punctuation">{</span>
  range <span class="token number">10.254</span>.239.10 <span class="token number">10.254</span>.239.20<span class="token punctuation">;</span>              <span class="token comment">#IP\u5730\u5740\u6C60</span>
  option routers rtr-239-0-1.example.org, rtr-239-0-2.example.org<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># This declaration allows BOOTP clients to get dynamic addresses,</span>
<span class="token comment"># which we don&#39;t really recommend.</span>

subnet <span class="token number">10.254</span>.239.32 netmask <span class="token number">255.255</span>.255.224 <span class="token punctuation">{</span>
  range dynamic-bootp <span class="token number">10.254</span>.239.40 <span class="token number">10.254</span>.239.60<span class="token punctuation">;</span>
  option broadcast-address <span class="token number">10.254</span>.239.31<span class="token punctuation">;</span>
  option routers rtr-239-32-1.example.org<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># A slightly different configuration for an internal subnet.</span>
subnet <span class="token number">10.5</span>.5.0 netmask <span class="token number">255.255</span>.255.224 <span class="token punctuation">{</span>
  range <span class="token number">10.5</span>.5.26 <span class="token number">10.5</span>.5.30<span class="token punctuation">;</span>
  option domain-name-servers ns1.internal.example.org<span class="token punctuation">;</span>      <span class="token comment">#DNS\u670D\u52A1\u5668</span>
  option domain-name <span class="token string">&quot;internal.example.org&quot;</span><span class="token punctuation">;</span>                <span class="token comment">#\u53EF\u9009 \u8BBE\u7F6E\u9ED8\u8BA4\u641C\u7D22\u57DF</span>
  option routers <span class="token number">10.5</span>.5.1<span class="token punctuation">;</span>                                  <span class="token comment">#\u7F51\u5173</span>
  option broadcast-address <span class="token number">10.5</span>.5.31<span class="token punctuation">;</span>                       <span class="token comment">#\u53EF\u9009 \u5907\u9009\u5E7F\u64AD\u5730\u5740</span>
  default-lease-time <span class="token number">600</span><span class="token punctuation">;</span>
  max-lease-time <span class="token number">7200</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># Hosts which require special configuration options can be listed in</span>
<span class="token comment"># host statements.   If no address is specified, the address will be</span>
<span class="token comment"># allocated dynamically (if possible), but the host-specific information</span>
<span class="token comment"># will still come from the host declaration.</span>

<span class="token function">host</span> passacaglia <span class="token punctuation">{</span>                                
  hardware ethernet <span class="token number">0</span>:0:c0:5d:bd:95<span class="token punctuation">;</span>              
  filename <span class="token string">&quot;vmunix.passacaglia&quot;</span><span class="token punctuation">;</span>
  server-name <span class="token string">&quot;toccata.fugue.com&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># Fixed IP addresses can also be specified for hosts.   These addresses</span>
<span class="token comment"># should not also be listed as being available for dynamic assignment.</span>
<span class="token comment"># Hosts for which fixed IP addresses have been specified can boot using</span>
<span class="token comment"># BOOTP or DHCP.   Hosts for which no fixed address is specified can only</span>
<span class="token comment"># be booted with DHCP, unless there is an address range on the subnet</span>
<span class="token comment"># to which a BOOTP client is connected which has the dynamic-bootp flag</span>
<span class="token comment"># set.</span>
<span class="token function">host</span> fantasia <span class="token punctuation">{</span>                                 <span class="token comment">#\u4E3B\u673A</span>
  hardware ethernet 08:00:07:26:c0:a5<span class="token punctuation">;</span>          <span class="token comment">#\u6307\u5B9A\u6587\u4EF6\u670D\u52A1\u5668MAC\u5730\u5740</span>
  fixed-address fantasia.fugue.com<span class="token punctuation">;</span>             <span class="token comment">#\u6307\u5B9AIP\u5730\u5740</span>
<span class="token punctuation">}</span>

<span class="token comment"># You can declare a class of clients and then do address allocation</span>
<span class="token comment"># based on that.   The example below shows a case where all clients</span>
<span class="token comment"># in a certain class get addresses on the 10.17.224/24 subnet, and all</span>
<span class="token comment"># other clients get addresses on the 10.0.29/24 subnet.</span>

class <span class="token string">&quot;foo&quot;</span> <span class="token punctuation">{</span>
  match <span class="token keyword">if</span> substring <span class="token punctuation">(</span>option vendor-class-identifier, <span class="token number">0</span>, <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;SUNW&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

shared-network <span class="token number">224</span>-29 <span class="token punctuation">{</span>
  subnet <span class="token number">10.17</span>.224.0 netmask <span class="token number">255.255</span>.255.0 <span class="token punctuation">{</span>
    option routers rtr-224.example.org<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  subnet <span class="token number">10.0</span>.29.0 netmask <span class="token number">255.255</span>.255.0 <span class="token punctuation">{</span>
    option routers rtr-29.example.org<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  pool <span class="token punctuation">{</span>
    allow members of <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
    range <span class="token number">10.17</span>.224.10 <span class="token number">10.17</span>.224.250<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  pool <span class="token punctuation">{</span>
    deny members of <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
    range <span class="token number">10.0</span>.29.10 <span class="token number">10.0</span>.29.230<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u26AB\u4FEE\u6539 DHCP \u914D\u7F6E\u6587\u4EF6\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@xnode1 ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/dhcp/dhcpd.conf  </span>
<span class="token comment">#</span>
<span class="token comment"># DHCP Server Configuration file.</span>
<span class="token comment">#   see /usr/share/doc/dhcp*/dhcpd.conf.example</span>
<span class="token comment">#   see dhcpd.conf(5) man page</span>
<span class="token comment">#</span>

subnet <span class="token number">192.168</span>.2.0 netmask <span class="token number">255.255</span>.255.0 <span class="token punctuation">{</span>
 range <span class="token number">192.168</span>.2.100 <span class="token number">192.168</span>.2.254<span class="token punctuation">;</span>
 option domain-name-servers <span class="token number">192.168</span>.2.1<span class="token punctuation">;</span>
 option domain-name <span class="token string">&quot;test.cn&quot;</span><span class="token punctuation">;</span>
 option routers <span class="token number">192.168</span>.2.1<span class="token punctuation">;</span>
 option broadcast-address <span class="token number">192.168</span>.2.255<span class="token punctuation">;</span>
 default-lease-time <span class="token number">600</span><span class="token punctuation">;</span>
 max-lease-time <span class="token number">7200</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-\u91CD\u542F\u670D\u52A1\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_6-\u91CD\u542F\u670D\u52A1\u6D4B\u8BD5" aria-hidden="true">#</a> 6.\u91CD\u542F\u670D\u52A1\u6D4B\u8BD5</h5><p>\u26AB\u542F\u52A8 DHCP \u670D\u52A1\u5E76\u8BBE\u7F6E\u5F00\u673A\u81EA\u542F\uFF0C\u67E5\u770B\u670D\u52A1\u72B6\u6001\u3002</p><p>\u26ABClient \u8282\u70B9\u540C\u6837\u8FDB\u884C\u590D\u5236\u548C\u4FEE\u6539\u7F51\u5361\u914D\u7F6E\u6587\u4EF6\u7684\u64CD\u4F5C\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@xnode1 ~<span class="token punctuation">]</span><span class="token comment"># systemctl start dhcpd </span>
<span class="token punctuation">[</span>root@xnode1 ~<span class="token punctuation">]</span><span class="token comment"># systemctl enable dhcpd </span>
<span class="token punctuation">[</span>root@xnode1 ~<span class="token punctuation">]</span><span class="token comment"># systemctl status dhcpd </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@client ~<span class="token punctuation">]</span><span class="token comment"># cd /etc/sysconfig/network-scripts/ </span>
<span class="token punctuation">[</span>root@client network-scripts<span class="token punctuation">]</span><span class="token comment"># cp -rvf ifcfg-eno16777736 ifcfg-eno33554984 </span>
<span class="token punctuation">[</span>root@client network-scripts<span class="token punctuation">]</span><span class="token comment"># cat ifcfg-eno33554984  </span>
<span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet 
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>dhcp 
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>yes 
<span class="token assign-left variable">PEERDNS</span><span class="token operator">=</span>yes 
<span class="token assign-left variable">PEERROUTES</span><span class="token operator">=</span>yes 
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span>no 
<span class="token assign-left variable">NAME</span><span class="token operator">=</span>eno33554984 
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>eno33554984 
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes 
<span class="token punctuation">[</span>root@client ~<span class="token punctuation">]</span><span class="token comment"># systemctl restart network </span>
<span class="token punctuation">[</span>root@client ~<span class="token punctuation">]</span><span class="token comment"># ip a</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope <span class="token function">host</span> 
       valid_lft forever preferred_lft forever
<span class="token number">2</span>: ens32: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc pfifo_fast state UP group default qlen <span class="token number">1000</span>
    link/ether 00:0c:29:7c:32:c5 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">192.168</span>.2.100/24 brd <span class="token number">192.168</span>.2.255 scope global noprefixroute dynamic ens32
       valid_lft 599sec preferred_lft 599sec
    inet6 fe80::fade:7228:6397:cdb1/64 scope <span class="token function">link</span> noprefixroute 
       valid_lft forever preferred_lft forever
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,33),l=[t];function o(c,p){return s(),a("div",null,l)}const u=n(i,[["render",o],["__file","9.html.vue"]]);export{u as default};
