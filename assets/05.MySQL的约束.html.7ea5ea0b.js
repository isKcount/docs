import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,f as t}from"./app.ca0279c0.js";const p={},e=t(`<h1 id="mysql\u7684\u7EA6\u675F" tabindex="-1"><a class="header-anchor" href="#mysql\u7684\u7EA6\u675F" aria-hidden="true">#</a> MySQL\u7684\u7EA6\u675F</h1><h2 id="\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#\u6982\u8FF0" aria-hidden="true">#</a> \u6982\u8FF0</h2><p>\u6982\u5FF5\uFF1A\u7EA6\u675F\u662F\u4F5C\u7528\u4E8E\u8868\u4E2D\u5B57\u6BB5\u4E0A\u7684\u89C4\u5219\uFF0C\u7528\u4E8E\u9650\u5236\u5B58\u50A8\u5728\u8868\u4E2D\u7684\u6570\u636E\u3002</p><p>\u76EE\u7684\uFF1A\u4FDD\u8BC1\u6570\u636E\u5E93\u4E2D\u6570\u636E\u7684\u6B63\u786E\u3001\u6709\u6548\u6027\u548C\u5B8C\u6574\u6027\u3002</p><p>\u5206\u7C7B:</p><table><thead><tr><th><strong>\u7EA6\u675F</strong></th><th><strong>\u63CF\u8FF0</strong></th><th><strong>\u5173\u952E\u5B57</strong></th></tr></thead><tbody><tr><td>\u975E\u7A7A\u7EA6\u675F</td><td>\u9650\u5236\u8BE5\u5B57\u6BB5\u7684\u6570\u636E\u4E0D\u80FD\u4E3Anull</td><td>NOT NULL</td></tr><tr><td>\u552F\u4E00\u7EA6\u675F</td><td>\u4FDD\u8BC1\u8BE5\u5B57\u6BB5\u7684\u6240\u6709\u6570\u636E\u90FD\u662F\u552F\u4E00\u3001\u4E0D\u91CD\u590D\u7684</td><td>UNIQUE</td></tr><tr><td>\u4E3B\u952E\u7EA6\u675F</td><td>\u4E3B\u952E\u662F\u4E00\u884C\u6570\u636E\u7684\u552F\u4E00\u6807\u8BC6\uFF0C\u8981\u6C42\u975E\u7A7A\u4E14\u552F\u4E00</td><td>PRIMARY KEY</td></tr><tr><td>\u9ED8\u8BA4\u7EA6\u675F</td><td>\u4FDD\u5B58\u6570\u636E\u65F6\uFF0C\u5982\u679C\u672A\u6307\u5B9A\u8BE5\u5B57\u6BB5\u7684\u503C\uFF0C\u5219\u91C7\u7528\u9ED8\u8BA4\u503C</td><td>DEFAULT</td></tr><tr><td>\u68C0\u67E5\u7EA6\u675F(8.0.16\u7248\u672C\u4E4B\u540E)</td><td>\u4FDD\u8BC1\u5B57\u6BB5\u503C\u6EE1\u8DB3\u67D0\u4E00\u4E2A\u6761\u4EF6</td><td>CHECK</td></tr><tr><td>\u5916\u952E\u7EA6\u675F</td><td>\u7528\u6765\u8BA9\u4E24\u5F20\u8868\u7684\u6570\u636E\u4E4B\u95F4\u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u4FDD\u8BC1\u6570\u636E\u7684\u4E00\u81F4\u6027\u548C\u5B8C\u6574\u6027</td><td>FOREIGN KEY</td></tr></tbody></table><blockquote><p>\u6CE8\u610F\uFF1A\u7EA6\u675F\u662F\u4F5C\u7528\u4E8E\u8868\u4E2D\u5B57\u6BB5\u4E0A\u7684\uFF0C\u53EF\u4EE5\u5728\u521B\u5EFA\u8868/\u4FEE\u6539\u8868\u7684\u65F6\u5019\u6DFB\u52A0\u7EA6\u675F\u3002</p></blockquote><h3 id="\u7EA6\u675F\u6F14\u793A" tabindex="-1"><a class="header-anchor" href="#\u7EA6\u675F\u6F14\u793A" aria-hidden="true">#</a> \u7EA6\u675F\u6F14\u793A</h3><p>\u4E0A\u9762\u6211\u4EEC\u4ECB\u7ECD\u4E86\u6570\u636E\u5E93\u4E2D\u5E38\u89C1\u7684\u7EA6\u675F\uFF0C\u4EE5\u53CA\u7EA6\u675F\u6D89\u53CA\u5230\u7684\u5173\u952E\u5B57\uFF0C\u90A3\u8FD9\u4E9B\u7EA6\u675F\u6211\u4EEC\u5230\u5E95\u5982\u4F55\u5728\u521B\u5EFA\u8868\u3001\u4FEE\u6539\u8868\u7684\u65F6\u5019\u6765\u6307\u5B9A\u5462\uFF0C\u63A5\u4E0B\u6765\u6211\u4EEC\u5C31\u901A\u8FC7\u4E00\u4E2A\u6848\u4F8B\uFF0C\u6765\u6F14\u793A\u4E00\u4E0B\u3002</p><p>\u6848\u4F8B\u9700\u6C42\uFF1A \u6839\u636E\u9700\u6C42\uFF0C\u5B8C\u6210\u8868\u7ED3\u6784\u7684\u521B\u5EFA\u3002\u9700\u6C42\u5982\u4E0B\uFF1A</p><table><thead><tr><th><strong>\u5B57\u6BB5\u540D</strong></th><th><strong>\u5B57\u6BB5\u542B\u4E49</strong></th><th><strong>\u5B57\u6BB5\u7C7B\u578B</strong></th><th><strong>\u7EA6\u675F\u6761\u4EF6</strong></th><th><strong>\u7EA6\u675F\u5173\u952E\u5B57</strong></th></tr></thead><tbody><tr><td>id</td><td>ID\u552F\u4E00\u6807\u8BC6</td><td>int</td><td>\u4E3B\u952E\uFF0C\u5E76\u4E14\u81EA\u52A8\u589E\u957F</td><td>PRIMARY KEY, AUTO_INCREMENT</td></tr><tr><td>name</td><td>\u59D3\u540D</td><td>varchar(10)</td><td>\u4E0D\u4E3A\u7A7A\uFF0C\u5E76\u4E14\u552F\u4E00</td><td>NOT NULL , UNIQUE</td></tr><tr><td>age</td><td>\u5E74\u9F84</td><td>int</td><td>\u5927\u4E8E0\uFF0C\u5E76\u4E14\u5C0F\u4E8E\u7B49\u4E8E120</td><td>CHECK</td></tr><tr><td>status</td><td>\u72B6\u6001</td><td>char(1)</td><td>\u5982\u679C\u6CA1\u6709\u6307\u5B9A\u8BE5\u503C\uFF0C\u9ED8\u8BA4\u4E3A1</td><td>DEFAULT</td></tr><tr><td>gender</td><td>\u6027\u522B</td><td>char(1)</td><td>\u65E0</td><td></td></tr></tbody></table><p>\u5BF9\u5E94\u7684\u5EFA\u8868\u8BED\u53E5\u4E3A\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>MariaDB <span class="token punctuation">[</span>test<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">user</span><span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u4E3B\u952E&#39;</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">unique</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u59D3\u540D&#39;</span><span class="token punctuation">,</span>
    age <span class="token keyword">int</span> <span class="token keyword">check</span> <span class="token punctuation">(</span> age <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> age <span class="token operator">&lt;=</span> <span class="token number">120</span> <span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u5E74\u9F84&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">status</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u72B6\u6001&#39;</span><span class="token punctuation">,</span>
    gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u6027\u522B&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u7528\u6237\u8868&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u4E3A\u5B57\u6BB5\u6DFB\u52A0\u7EA6\u675F\u65F6\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u5728\u5B57\u6BB5\u4E4B\u540E\u52A0\u4E0A\u7EA6\u675F\u7684\u5173\u952E\u5B57\u5373\u53EF\uFF0C\u9700\u8981\u5173\u6CE8\u5176\u8BED\u6CD5\u3002\u6211\u4EEC\u6267\u884C\u4E0A\u9762\u7684SQL\u628A\u8868\u7ED3\u6784\u521B\u5EFA\u5B8C\u6210\uFF0C\u7136\u540E\u63A5\u4E0B\u6765\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7\u4E00\u7EC4\u6570\u636E\u8FDB\u884C\u6D4B\u8BD5\uFF0C\u4ECE\u800C\u9A8C\u8BC1\u4E00\u4E0B\uFF0C\u7EA6\u675F\u662F\u5426\u53EF\u4EE5\u751F\u6548\u3002</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;Tom1&#39;</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u7537&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&#39;Tom2&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u7537&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;Tom3&#39;</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u7537&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u7537&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;Tom4&#39;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u7537&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;Tom5&#39;</span><span class="token punctuation">,</span><span class="token number">121</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u7537&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;Tom6&#39;</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">&#39;\u7537&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\uFF0C\u6211\u4EEC\u662F\u901A\u8FC7\u7F16\u5199SQL\u8BED\u53E5\u7684\u5F62\u5F0F\u6765\u5B8C\u6210\u7EA6\u675F\u7684\u6307\u5B9A\uFF0C\u90A3\u52A0\u5165\u6211\u4EEC\u662F\u901A\u8FC7\u56FE\u5F62\u5316\u754C\u9762\u6765\u521B\u5EFA\u8868\u7ED3\u6784\u65F6\uFF0C\u53C8\u8BE5\u5982\u4F55\u6765\u6307\u5B9A\u7EA6\u675F\u5462\uFF1F \u53EA\u9700\u8981\u5728\u521B\u5EFA\u8868\u7684\u65F6\u5019\uFF0C\u6839\u636E\u6211\u4EEC\u7684\u9700\u8981\u9009\u62E9\u5BF9\u5E94\u7684\u7EA6\u675F\u5373\u53EF\u3002</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/202206110952192.png" alt="image-20220611001119813" loading="lazy"></p><h3 id="\u5916\u952E\u7EA6\u675F" tabindex="-1"><a class="header-anchor" href="#\u5916\u952E\u7EA6\u675F" aria-hidden="true">#</a> \u5916\u952E\u7EA6\u675F</h3><h4 id="\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#\u4ECB\u7ECD" aria-hidden="true">#</a> <strong>\u4ECB\u7ECD</strong></h4><p>\u5916\u952E\uFF1A\u7528\u6765\u8BA9\u4E24\u5F20\u8868\u7684\u6570\u636E\u4E4B\u95F4\u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u4ECE\u800C\u4FDD\u8BC1\u6570\u636E\u7684\u4E00\u81F4\u6027\u548C\u5B8C\u6574\u6027\u3002</p><p>\u6211\u4EEC\u6765\u770B\u4E00\u4E2A\u4F8B\u5B50\uFF1A</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/202206110952344.png" alt="image-20220611001735249" loading="lazy"></p><p>\u5DE6\u4FA7\u7684emp\u8868\u662F\u5458\u5DE5\u8868\uFF0C\u91CC\u9762\u5B58\u50A8\u5458\u5DE5\u7684\u57FA\u672C\u4FE1\u606F\uFF0C\u5305\u542B\u5458\u5DE5\u7684ID\u3001\u59D3\u540D\u3001\u5E74\u9F84\u3001\u804C\u4F4D\u3001\u85AA\u8D44\u3001\u5165\u804C\u65E5\u671F\u3001\u4E0A\u7EA7\u4E3B\u7BA1ID\u3001\u90E8\u95E8ID\uFF0C\u5728\u5458\u5DE5\u7684\u4FE1\u606F\u4E2D\u5B58\u50A8\u7684\u662F\u90E8\u95E8\u7684ID dept_id\uFF0C\u800C\u8FD9\u4E2A\u90E8\u95E8\u7684ID\u662F\u5173\u8054\u7684\u90E8\u95E8\u8868dept\u7684\u4E3B\u952Eid\uFF0C\u90A3emp\u8868\u7684dept_id\u5C31\u662F\u5916\u952E,\u5173\u8054\u7684\u662F\u53E6\u4E00\u5F20\u8868\u7684\u4E3B\u952E\u3002</p><blockquote><p>\u6CE8\u610F\uFF1A\u76EE\u524D\u4E0A\u8FF0\u4E24\u5F20\u8868\uFF0C\u53EA\u662F\u5728\u903B\u8F91\u4E0A\u5B58\u5728\u8FD9\u6837\u4E00\u5C42\u5173\u7CFB\uFF1B\u5728\u6570\u636E\u5E93\u5C42\u9762\uFF0C\u5E76\u672A\u5EFA\u7ACB\u5916\u952E\u5173\u8054\uFF0C</p><p>\u6240\u4EE5\u662F\u65E0\u6CD5\u4FDD\u8BC1\u6570\u636E\u7684\u4E00\u81F4\u6027\u548C\u5B8C\u6574\u6027\u7684\u3002</p></blockquote><p>\u6CA1\u6709\u6570\u636E\u5E93\u5916\u952E\u5173\u8054\u7684\u60C5\u51B5\u4E0B\uFF0C\u80FD\u591F\u4FDD\u8BC1\u4E00\u81F4\u6027\u548C\u5B8C\u6574\u6027\u5462\uFF0C\u6211\u4EEC\u6765\u6D4B\u8BD5\u4E00\u4E0B\u3002</p><p>\u51C6\u5907\u6570\u636E</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> dept<span class="token punctuation">(</span>
    id   <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u90E8\u95E8\u540D\u79F0&#39;</span>
<span class="token punctuation">)</span><span class="token keyword">comment</span> <span class="token string">&#39;\u90E8\u95E8\u8868&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;\u7814\u53D1\u90E8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5E02\u573A\u90E8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;\u8D22\u52A1\u90E8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;\u9500\u552E\u90E8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;\u603B\u7ECF\u529E&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">create</span> <span class="token keyword">table</span> emp<span class="token punctuation">(</span>
    id  <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u59D3\u540D&#39;</span><span class="token punctuation">,</span>
    age  <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u5E74\u9F84&#39;</span><span class="token punctuation">,</span>
    job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u804C\u4F4D&#39;</span><span class="token punctuation">,</span>
    salary <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u85AA\u8D44&#39;</span><span class="token punctuation">,</span>
    entrydate <span class="token keyword">date</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u5165\u804C\u65F6\u95F4&#39;</span><span class="token punctuation">,</span>
    managerid <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u76F4\u5C5E\u9886\u5BFCID&#39;</span><span class="token punctuation">,</span>
    dept_id <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;\u90E8\u95E8ID&#39;</span>
<span class="token punctuation">)</span><span class="token keyword">comment</span> <span class="token string">&#39;\u5458\u5DE5\u8868&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job<span class="token punctuation">,</span>salary<span class="token punctuation">,</span> entrydate<span class="token punctuation">,</span> managerid<span class="token punctuation">,</span> dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;\u91D1\u5EB8&#39;</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token string">&#39;\u603B\u88C1&#39;</span><span class="token punctuation">,</span><span class="token number">20000</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-01-01&#39;</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5F20\u65E0\u5FCC&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;\u9879\u76EE\u7ECF\u7406&#39;</span><span class="token punctuation">,</span><span class="token number">12500</span><span class="token punctuation">,</span> <span class="token string">&#39;2005-12-05&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;\u6768\u900D&#39;</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5F00\u53D1&#39;</span><span class="token punctuation">,</span> <span class="token number">8400</span><span class="token punctuation">,</span><span class="token string">&#39;2000-11-03&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;\u97E6\u4E00\u7B11&#39;</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5F00\u53D1&#39;</span><span class="token punctuation">,</span><span class="token number">11000</span><span class="token punctuation">,</span> <span class="token string">&#39;2002-02-05&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5E38\u9047\u6625&#39;</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5F00\u53D1&#39;</span><span class="token punctuation">,</span><span class="token number">10500</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-09-07&#39;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5C0F\u662D&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;\u7A0B\u5E8F\u5458\u9F13\u52B1\u5E08&#39;</span><span class="token punctuation">,</span><span class="token number">6600</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u63A5\u4E0B\u6765\uFF0C\u6211\u4EEC\u53EF\u4EE5\u505A\u4E00\u4E2A\u6D4B\u8BD5\uFF0C\u5220\u9664id\u4E3A1\u7684\u90E8\u95E8\u4FE1\u606F\u3002</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/202206110952992.png" alt="image-20220611004505728" loading="lazy"></p><p>\u7ED3\u679C\uFF0C\u6211\u4EEC\u770B\u5230\u5220\u9664\u6210\u529F\uFF0C\u800C\u5220\u9664\u6210\u529F\u4E4B\u540E\uFF0C\u90E8\u95E8\u8868\u4E0D\u5B58\u5728id\u4E3A1\u7684\u90E8\u95E8\uFF0C\u800C\u5728emp\u8868\u4E2D\u8FD8\u6709\u5F88\u591A\u7684\u5458\u5DE5\uFF0C\u5173\u8054\u7684\u4E3Aid\u4E3A1\u7684\u90E8\u95E8\uFF0C\u6B64\u65F6\u5C31\u51FA\u73B0\u4E86\u6570\u636E\u7684\u4E0D\u5B8C\u6574\u6027\u3002 \u800C\u8981\u60F3\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u5C31\u5F97\u901A\u8FC7\u6570\u636E\u5E93\u7684\u5916\u952E\u7EA6\u675F\u3002</p><h4 id="\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u8BED\u6CD5" aria-hidden="true">#</a> \u8BED\u6CD5</h4><p>1). \u6DFB\u52A0\u5916\u952E</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> \u8868\u540D<span class="token punctuation">(</span>
	\u5B57\u6BB5\u540D	\u6570\u636E\u7C7B\u578B<span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>\u5916\u952E\u540D\u79F0<span class="token punctuation">]</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>\u5916\u952E\u5B57\u6BB5\u540D<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> \u4E3B\u8868<span class="token punctuation">(</span>\u4E3B\u8868\u5217\u540D<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> \u8868\u540D <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> \u5916\u952E\u540D\u79F0 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>\u5916\u952E\u5B57\u6BB5\u540D<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> \u4E3B\u8868<span class="token punctuation">(</span>\u4E3B\u8868\u5217\u540D<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6848\u4F8B:</p><p>\u4E3Aemp\u8868\u7684dept_id\u5B57\u6BB5\u6DFB\u52A0\u5916\u952E\u7EA6\u675F,\u5173\u8054dept\u8868\u7684\u4E3B\u952Eid\u3002</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>MariaDB <span class="token punctuation">[</span>test<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp_dept_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6DFB\u52A0\u4E86\u5916\u952E\u7EA6\u675F\u4E4B\u540E\uFF0C\u6211\u4EEC\u518D\u5230dept\u8868(\u7236\u8868)\u5220\u9664id\u4E3A1\u7684\u8BB0\u5F55\uFF0C\u7136\u540E\u770B\u4E00\u4E0B\u4F1A\u53D1\u751F\u4EC0\u4E48\u73B0\u8C61\u3002 \u6B64\u65F6\u5C06\u4F1A\u62A5\u9519\uFF0C\u4E0D\u80FD\u5220\u9664\u6216\u66F4\u65B0\u7236\u8868\u8BB0\u5F55\uFF0C\u56E0\u4E3A\u5B58\u5728\u5916\u952E\u7EA6\u675F\u3002</p><p>2). \u5220\u9664\u5916\u952E</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> \u8868\u540D <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> \u5916\u952E\u540D\u79F0<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6848\u4F8B\uFF1A</p><p>\u5220\u9664emp\u8868\u7684\u5916\u952Efk_emp_dept_id\u3002</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>MariaDB <span class="token punctuation">[</span>test<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">drop</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span> fk_emp_dept_id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u5220\u9664-\u66F4\u65B0\u884C\u4E3A" tabindex="-1"><a class="header-anchor" href="#\u5220\u9664-\u66F4\u65B0\u884C\u4E3A" aria-hidden="true">#</a> \u5220\u9664/\u66F4\u65B0\u884C\u4E3A</h4><p>\u6DFB\u52A0\u4E86\u5916\u952E\u4E4B\u540E\uFF0C\u518D\u5220\u9664\u7236\u8868\u6570\u636E\u65F6\u4EA7\u751F\u7684\u7EA6\u675F\u884C\u4E3A\uFF0C\u6211\u4EEC\u5C31\u79F0\u4E3A\u5220\u9664/\u66F4\u65B0\u884C\u4E3A\u3002\u5177\u4F53\u7684\u5220\u9664/\u66F4\u65B0\u884C\u4E3A\u6709\u4EE5\u4E0B\u51E0\u79CD:</p><table><thead><tr><th><strong>\u884C\u4E3A</strong></th><th><strong>\u8BF4\u660E</strong></th></tr></thead><tbody><tr><td>NO ACTION</td><td>\u5F53\u5728\u7236\u8868\u4E2D\u5220\u9664/\u66F4\u65B0\u5BF9\u5E94\u8BB0\u5F55\u65F6\uFF0C\u9996\u5148\u68C0\u67E5\u8BE5\u8BB0\u5F55\u662F\u5426\u6709\u5BF9\u5E94\u5916\u952E\uFF0C\u5982\u679C\u6709\u5219\u4E0D\u5141\u8BB8\u5220\u9664/\u66F4\u65B0\u3002 (\u4E0E RESTRICT \u4E00\u81F4) \u9ED8\u8BA4\u884C\u4E3A</td></tr><tr><td>RESTRICT</td><td>\u5F53\u5728\u7236\u8868\u4E2D\u5220\u9664/\u66F4\u65B0\u5BF9\u5E94\u8BB0\u5F55\u65F6\uFF0C\u9996\u5148\u68C0\u67E5\u8BE5\u8BB0\u5F55\u662F\u5426\u6709\u5BF9\u5E94\u5916\u952E\uFF0C\u5982\u679C\u6709\u5219\u4E0D\u5141\u8BB8\u5220\u9664/\u66F4\u65B0\u3002 (\u4E0E NO ACTION \u4E00\u81F4) \u9ED8\u8BA4\u884C\u4E3A</td></tr><tr><td>CASCADE</td><td>\u5F53\u5728\u7236\u8868\u4E2D\u5220\u9664/\u66F4\u65B0\u5BF9\u5E94\u8BB0\u5F55\u65F6\uFF0C\u9996\u5148\u68C0\u67E5\u8BE5\u8BB0\u5F55\u662F\u5426\u6709\u5BF9\u5E94\u5916\u952E\uFF0C\u5982\u679C\u6709\uFF0C\u5219\u4E5F\u5220\u9664/\u66F4\u65B0\u5916\u952E\u5728\u5B50\u8868\u4E2D\u7684\u8BB0\u5F55\u3002</td></tr><tr><td>SET NULL</td><td>\u5F53\u5728\u7236\u8868\u4E2D\u5220\u9664\u5BF9\u5E94\u8BB0\u5F55\u65F6\uFF0C\u9996\u5148\u68C0\u67E5\u8BE5\u8BB0\u5F55\u662F\u5426\u6709\u5BF9\u5E94\u5916\u952E\uFF0C\u5982\u679C\u6709\u5219\u8BBE\u7F6E\u5B50\u8868\u4E2D\u8BE5\u5916\u952E\u503C\u4E3Anull\uFF08\u8FD9\u5C31\u8981\u6C42\u8BE5\u5916\u952E\u5141\u8BB8\u53D6null\uFF09\u3002</td></tr><tr><td>SET DEFAULT</td><td>\u7236\u8868\u6709\u53D8\u66F4\u65F6\uFF0C\u5B50\u8868\u5C06\u5916\u952E\u5217\u8BBE\u7F6E\u6210\u4E00\u4E2A\u9ED8\u8BA4\u7684\u503C (Innodb\u4E0D\u652F\u6301)</td></tr></tbody></table><p>\u5177\u4F53\u8BED\u6CD5\u4E3A:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> \u8868\u540D <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> \u5916\u952E\u540D\u79F0 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>\u5916\u952E\u5B57\u6BB5<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> \u4E3B\u8868\u540D\uFF08\u4E3B\u8868\u5B57\u6BB5\u540D\uFF09 <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CASCADE</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6F14\u793A\u5982\u4E0B\uFF1A</p><p>\u7531\u4E8ENO ACTION \u662F\u9ED8\u8BA4\u884C\u4E3A\uFF0C\u6211\u4EEC\u524D\u9762\u8BED\u6CD5\u6F14\u793A\u7684\u65F6\u5019\uFF0C\u5DF2\u7ECF\u6D4B\u8BD5\u8FC7\u4E86\uFF0C\u5C31\u4E0D\u518D\u6F14\u793A\u4E86\uFF0C\u8FD9\u91CC\u6211\u4EEC\u518D\u6F14\u793A\u5176\u4ED6\u7684\u4E24\u79CD\u884C\u4E3A\uFF1ACASCADE\u3001SET NULL\u3002</p><p><strong><code>1). CASCADE</code></strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>MariaDB <span class="token punctuation">[</span>test<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp_dept_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">cascade</span> <span class="token keyword">on</span> <span class="token keyword">delete</span> <span class="token keyword">cascade</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>A. \u4FEE\u6539\u7236\u8868id\u4E3A1\u7684\u8BB0\u5F55\uFF0C\u5C06id\u4FEE\u6539\u4E3A6</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/202206110952850.png" alt="image-20220611011250318" loading="lazy"></p><p>\u6211\u4EEC\u53D1\u73B0\uFF0C\u539F\u6765\u5728\u5B50\u8868\u4E2Ddept_id\u503C\u4E3A1\u7684\u8BB0\u5F55\uFF0C\u73B0\u5728\u4E5F\u53D8\u4E3A6\u4E86\uFF0C\u8FD9\u5C31\u662Fcascade\u7EA7\u8054\u7684\u6548\u679C\u3002</p><blockquote><p>\u5728\u4E00\u822C\u7684\u4E1A\u52A1\u7CFB\u7EDF\u4E2D\uFF0C\u4E0D\u4F1A\u4FEE\u6539\u4E00\u5F20\u8868\u7684\u4E3B\u952E\u503C\u3002</p></blockquote><p>B. \u5220\u9664\u7236\u8868id\u4E3A6\u7684\u8BB0\u5F55</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/202206110952675.png" alt="image-20220611011311823" loading="lazy"></p><p>\u6211\u4EEC\u53D1\u73B0\uFF0C\u7236\u8868\u7684\u6570\u636E\u5220\u9664\u6210\u529F\u4E86\uFF0C\u4F46\u662F\u5B50\u8868\u4E2D\u5173\u8054\u7684\u8BB0\u5F55\u4E5F\u88AB\u7EA7\u8054\u5220\u9664\u4E86\u3002</p><p><strong><code>2). SET NULL</code></strong></p><p>\u5728\u8FDB\u884C\u6D4B\u8BD5\u4E4B\u524D\uFF0C\u6211\u4EEC\u5148\u9700\u8981\u5220\u9664\u4E0A\u9762\u5EFA\u7ACB\u7684\u5916\u952E fk_emp_dept_id\u3002\u7136\u540E\u518D\u901A\u8FC7\u6570\u636E\u811A\u672C\uFF0C\u5C06 emp\u3001dept\u8868\u7684\u6570\u636E\u6062\u590D\u4E86\u3002</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>MariaDB <span class="token punctuation">[</span>test<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp_dept_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">set</span> <span class="token boolean">null</span> <span class="token keyword">on</span> <span class="token keyword">delete</span> <span class="token keyword">set</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u63A5\u4E0B\u6765\uFF0C\u6211\u4EEC\u5220\u9664id\u4E3A1\u7684\u6570\u636E\uFF0C\u770B\u770B\u4F1A\u53D1\u751F\u4EC0\u4E48\u6837\u7684\u73B0\u8C61\u3002</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/202206110952691.png" alt="image-20220611011621586" loading="lazy"></p><p>\u6211\u4EEC\u53D1\u73B0\u7236\u8868\u7684\u8BB0\u5F55\u662F\u53EF\u4EE5\u6B63\u5E38\u7684\u5220\u9664\u7684\uFF0C\u7236\u8868\u7684\u6570\u636E\u5220\u9664\u4E4B\u540E\uFF0C\u518D\u6253\u5F00\u5B50\u8868 emp\uFF0C\u6211\u4EEC\u53D1\u73B0\u5B50\u8868emp \u7684dept_id\u5B57\u6BB5\uFF0C\u539F\u6765dept_id\u4E3A1\u7684\u6570\u636E\uFF0C\u73B0\u5728\u90FD\u88AB\u7F6E\u4E3ANULL\u4E86\u3002</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/202206110952050.png" alt="image-20220611011627752" loading="lazy"></p><p>\u8FD9\u5C31\u662FSET NULL\u8FD9\u79CD\u5220\u9664/\u66F4\u65B0\u884C\u4E3A\u7684\u6548\u679C\u3002</p>`,66),o=[e];function c(l,u){return s(),a("div",null,o)}const r=n(p,[["render",c],["__file","05.MySQL\u7684\u7EA6\u675F.html.vue"]]);export{r as default};
