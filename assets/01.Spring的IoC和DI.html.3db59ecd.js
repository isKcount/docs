import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,f as t}from"./app.ca0279c0.js";const p={},e=t(`<h1 id="spring\u7684ioc\u548Cdi" tabindex="-1"><a class="header-anchor" href="#spring\u7684ioc\u548Cdi" aria-hidden="true">#</a> Spring\u7684IoC\u548CDI</h1><h2 id="\u4E3B\u8981\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#\u4E3B\u8981\u5185\u5BB9" aria-hidden="true">#</a> \u4E3B\u8981\u5185\u5BB9</h2><p>\u{1F536} Spring\u7B80\u4ECB</p><p>\u{1F536} Spring\u5FEB\u901F\u5165\u95E8</p><p>\u{1F536} Spring\u914D\u7F6E\u6587\u4EF6</p><p>\u{1F536} Spring\u76F8\u5173API</p><h2 id="_1-spring\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_1-spring\u7B80\u4ECB" aria-hidden="true">#</a> 1.Spring\u7B80\u4ECB</h2><h3 id="_1-1-spring\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#_1-1-spring\u662F\u4EC0\u4E48" aria-hidden="true">#</a> 1.1 Spring\u662F\u4EC0\u4E48</h3><p>Spring\u662F\u5206\u5C42\u7684 Java SE/EE\u5E94\u7528 full-stack \u8F7B\u91CF\u7EA7\u5F00\u6E90\u6846\u67B6\uFF0C\u4EE5 <code>IoC\uFF08Inverse Of Control\uFF1A\u53CD\u8F6C\u63A7\u5236\uFF09</code>\u548C<code>AOP\uFF08Aspect Oriented Programming\uFF1A\u9762\u5411\u5207\u9762\u7F16\u7A0B\uFF09</code>\u4E3A\u5185\u6838\u3002</p><p>\u63D0\u4F9B\u4E86\u5C55\u73B0\u5C42 <code>SpringMVC</code> \u548C<code>\u6301\u4E45\u5C42 Spring JDBCTemplate</code> \u4EE5\u53CA<code>\u4E1A\u52A1\u5C42\u4E8B\u52A1\u7BA1\u7406</code>\u7B49\u4F17\u591A\u7684\u4F01\u4E1A\u7EA7\u5E94\u7528\u6280\u672F\uFF0C\u8FD8\u80FD\u6574\u5408\u5F00\u6E90\u4E16\u754C\u4F17\u591A\u8457\u540D\u7684\u7B2C\u4E09\u65B9\u6846\u67B6\u548C\u7C7B\u5E93\uFF0C\u9010\u6E10\u6210\u4E3A\u4F7F\u7528\u6700\u591A\u7684Java EE \u4F01\u4E1A\u5E94\u7528\u5F00\u6E90\u6846\u67B6\u3002</p><h3 id="_1-2-spring\u53D1\u5C55\u5386\u7A0B" tabindex="-1"><a class="header-anchor" href="#_1-2-spring\u53D1\u5C55\u5386\u7A0B" aria-hidden="true">#</a> 1.2 Spring\u53D1\u5C55\u5386\u7A0B</h3><ul><li>1997 \u5E74\uFF0C IBM\u63D0\u51FA\u4E86EJB \u7684\u601D\u60F3</li><li>1998 \u5E74\uFF0CSUN\u5236\u5B9A\u5F00\u53D1\u6807\u51C6\u89C4\u8303 EJB1.0</li><li>1999 \u5E74\uFF0CEJB1.1 \u53D1\u5E03</li><li>2001 \u5E74\uFF0CEJB2.0 \u53D1\u5E03</li><li>2003 \u5E74\uFF0CEJB2.1 \u53D1\u5E03</li><li>2006 \u5E74\uFF0CEJB3.0 \u53D1\u5E03</li></ul><p><strong>Rod Johnson \uFF08 Spring \u4E4B\u7236\uFF09</strong> Expert One-to-One J2EE Design and Development(2002) \u9610\u8FF0\u4E86 J2EE \u4F7F\u7528EJB \u5F00\u53D1\u8BBE\u8BA1\u7684\u4F18\u70B9\u53CA\u89E3\u51B3\u65B9\u6848 Expert One-to-One J2EE Development without EJB(2004) \u9610\u8FF0\u4E86 J2EE \u5F00\u53D1\u4E0D\u4F7F\u7528 EJB\u7684\u89E3\u51B3\u65B9\u5F0F\uFF08Spring \u96CF\u5F62\uFF09</p><h3 id="_1-3-spring\u7684\u4F18\u52BF" tabindex="-1"><a class="header-anchor" href="#_1-3-spring\u7684\u4F18\u52BF" aria-hidden="true">#</a> 1.3 Spring\u7684\u4F18\u52BF</h3><p><code>1\uFF09\u65B9\u4FBF\u89E3\u8026\uFF0C\u7B80\u5316\u5F00\u53D1</code></p><p>\u901A\u8FC7 Spring \u63D0\u4F9B\u7684 IoC\u5BB9\u5668\uFF0C\u53EF\u4EE5\u5C06\u5BF9\u8C61\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\u4EA4\u7531 Spring \u8FDB\u884C\u63A7\u5236\uFF0C\u907F\u514D\u786C\u7F16\u7801\u6240\u9020\u6210\u7684\u8FC7\u5EA6\u8026\u5408\u3002 \u7528\u6237\u4E5F\u4E0D\u5FC5\u518D\u4E3A\u5355\u4F8B\u6A21\u5F0F\u7C7B\u3001\u5C5E\u6027\u6587\u4EF6\u89E3\u6790\u7B49\u8FD9\u4E9B\u5F88\u5E95\u5C42\u7684\u9700\u6C42\u7F16\u5199\u4EE3\u7801\uFF0C\u53EF\u4EE5\u66F4\u4E13\u6CE8\u4E8E\u4E0A\u5C42\u7684\u5E94\u7528\u3002</p><p><code>2\uFF09AOP \u7F16\u7A0B\u7684\u652F\u6301</code> \u901A\u8FC7 Spring\u7684 AOP \u529F\u80FD\uFF0C\u65B9\u4FBF\u8FDB\u884C\u9762\u5411\u5207\u9762\u7F16\u7A0B\uFF0C\u8BB8\u591A\u4E0D\u5BB9\u6613\u7528\u4F20\u7EDF OOP \u5B9E\u73B0\u7684\u529F\u80FD\u53EF\u4EE5\u901A\u8FC7 AOP \u8F7B\u677E\u5B9E\u73B0\u3002</p><p><code>3\uFF09\u58F0\u660E\u5F0F\u4E8B\u52A1\u7684\u652F\u6301</code> \u53EF\u4EE5\u5C06\u6211\u4EEC\u4ECE\u5355\u8C03\u70E6\u95F7\u7684\u4E8B\u52A1\u7BA1\u7406\u4EE3\u7801\u4E2D\u89E3\u8131\u51FA\u6765\uFF0C\u901A\u8FC7\u58F0\u660E\u5F0F\u65B9\u5F0F\u7075\u6D3B\u7684\u8FDB\u884C\u4E8B\u52A1\u7BA1\u7406\uFF0C\u63D0\u9AD8\u5F00\u53D1\u6548\u7387\u548C\u8D28\u91CF\u3002</p><p><code>4\uFF09\u65B9\u4FBF\u7A0B\u5E8F\u7684\u6D4B\u8BD5</code> \u53EF\u4EE5\u7528\u975E\u5BB9\u5668\u4F9D\u8D56\u7684\u7F16\u7A0B\u65B9\u5F0F\u8FDB\u884C\u51E0\u4E4E\u6240\u6709\u7684\u6D4B\u8BD5\u5DE5\u4F5C\uFF0C\u6D4B\u8BD5\u4E0D\u518D\u662F\u6602\u8D35\u7684\u64CD\u4F5C\uFF0C\u800C\u662F\u968F\u624B\u53EF\u505A\u7684\u4E8B\u60C5\u3002</p><p><code>5\uFF09\u65B9\u4FBF\u96C6\u6210\u5404\u79CD\u4F18\u79C0\u6846\u67B6</code> Spring\u5BF9\u5404\u79CD\u4F18\u79C0\u6846\u67B6\uFF08Struts\u3001Hibernate\u3001Hessian\u3001Quartz\u7B49\uFF09\u7684\u652F\u6301\u3002</p><p><code>6\uFF09\u964D\u4F4E JavaEE API \u7684\u4F7F\u7528\u96BE\u5EA6</code> Spring\u5BF9 JavaEE API\uFF08\u5982 JDBC\u3001JavaMail\u3001\u8FDC\u7A0B\u8C03\u7528\u7B49\uFF09\u8FDB\u884C\u4E86\u8584\u8584\u7684\u5C01\u88C5\u5C42\uFF0C\u4F7F\u8FD9\u4E9B API \u7684\u4F7F\u7528\u96BE\u5EA6\u5927\u4E3A\u964D\u4F4E\u3002</p><p><code>7\uFF09Java \u6E90\u7801\u662F\u7ECF\u5178\u5B66\u4E60\u8303\u4F8B</code> Spring\u7684\u6E90\u4EE3\u7801\u8BBE\u8BA1\u7CBE\u5999\u3001\u7ED3\u6784\u6E05\u6670\u3001\u5320\u5FC3\u72EC\u7528\uFF0C\u5904\u5904\u4F53\u73B0\u7740\u5927\u5E08\u5BF9Java \u8BBE\u8BA1\u6A21\u5F0F\u7075\u6D3B\u8FD0\u7528\u4EE5\u53CA\u5BF9 Java\u6280\u672F\u7684\u9AD8\u6DF1 \u9020\u8BE3\u3002\u5B83\u7684\u6E90\u4EE3\u7801\u65E0\u610F\u662F Java \u6280\u672F\u7684\u6700\u4F73\u5B9E\u8DF5\u7684\u8303\u4F8B\u3002</p><h3 id="_1-4-spring\u7684\u4F53\u7CFB\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#_1-4-spring\u7684\u4F53\u7CFB\u7ED3\u6784" aria-hidden="true">#</a> 1.4 Spring\u7684\u4F53\u7CFB\u7ED3\u6784</h3><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220717151947307.png" alt="image-20220717151947307" loading="lazy"></p><h2 id="_2-spring\u5FEB\u901F\u5165\u95E8" tabindex="-1"><a class="header-anchor" href="#_2-spring\u5FEB\u901F\u5165\u95E8" aria-hidden="true">#</a> 2.Spring\u5FEB\u901F\u5165\u95E8</h2><h3 id="_2-1-spring\u7A0B\u5E8F\u5F00\u53D1\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#_2-1-spring\u7A0B\u5E8F\u5F00\u53D1\u6B65\u9AA4" aria-hidden="true">#</a> 2.1 Spring\u7A0B\u5E8F\u5F00\u53D1\u6B65\u9AA4</h3><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220717152047976.png" alt="image-20220717152047976" loading="lazy"></p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220717152110400.png" alt="image-20220717152110400" loading="lazy"></p><p>\u2460 \u5BFC\u5165 Spring \u5F00\u53D1\u7684\u57FA\u672C\u5305\u5750\u6807 \u2461 \u7F16\u5199 Dao \u63A5\u53E3\u548C\u5B9E\u73B0\u7C7B \u2462 \u521B\u5EFA Spring \u6838\u5FC3\u914D\u7F6E\u6587\u4EF6 \u2463 \u5728 Spring \u914D\u7F6E\u6587\u4EF6\u4E2D\u914D\u7F6E UserDaoImpl \u2464 \u4F7F\u7528 Spring \u7684 API \u83B7\u5F97 Bean \u5B9E\u4F8B</p><h3 id="_2-2-\u5BFC\u5165spring\u7684\u5750\u6807" tabindex="-1"><a class="header-anchor" href="#_2-2-\u5BFC\u5165spring\u7684\u5750\u6807" aria-hidden="true">#</a> 2.2 \u5BFC\u5165Spring\u7684\u5750\u6807</h3><p>\u5982\u4E0B\u7684\u64CD\u4F5C\u5185\u5BB9\u662F\u5728maven\u7684\u9879\u76EE\u5DE5\u7A0B\u4E2D\u7684\uFF0Cpom.xml\u6587\u4EF6\u4E2D\u5BFC\u5165Spring\u7684\u5F00\u53D1\u57FA\u672C\u5750\u6807\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring.version</span><span class="token punctuation">&gt;</span></span>5.0.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--\u5BFC\u5165spring\u7684context\u5750\u6807\uFF0Ccontext\u4F9D\u8D56core\u3001beans\u3001expression--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-\u7F16\u5199dao\u63A5\u53E3\u548C\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#_2-3-\u7F16\u5199dao\u63A5\u53E3\u548C\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> 2.3 \u7F16\u5199Dao\u63A5\u53E3\u548C\u5B9E\u73B0\u7C7B</h3><p>\u7F16\u5199UserDao\u7684\u63A5\u53E3\uFF0C\u65B0\u5EFA\u4E00\u4E2AUserDaoImpl\u7684\u5B9E\u73B0\u7C7B\uFF0C\u91CD\u5199\u8BE5\u63A5\u53E3\u7684save\u65B9\u6CD5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserDao save method running...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4-\u521B\u5EFAspring\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2-4-\u521B\u5EFAspring\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 2.4 \u521B\u5EFASpring\u914D\u7F6E\u6587\u4EF6</h3><p>\u5728\u7C7B\u8DEF\u5F84\u4E0B\u7684\uFF08resources\uFF09\u521B\u5EFAapplicationContext.xml\u914D\u7F6E\u6587\u4EF6\u3002</p><p>\u5728Spring\u914D\u7F6E\u6587\u4EF6\u4E2D\u914D\u7F6EUserDaoImpl\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--\u8FD9\u91CC\u65B0\u6DFB\u52A0\u7684bean \u5C31\u662F\u914D\u7F6EUserDaoImpl--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.Dao.impl.UserDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-5-\u521B\u5EFA\u6D4B\u8BD5\u7C7B" tabindex="-1"><a class="header-anchor" href="#_2-5-\u521B\u5EFA\u6D4B\u8BD5\u7C7B" aria-hidden="true">#</a> 2.5 \u521B\u5EFA\u6D4B\u8BD5\u7C7B</h3><p>\u4F7F\u7528Spring\u7684API\u83B7\u5F97Bean\u5B9E\u4F8B\uFF0C\u8C03\u7528UserDao\u7684save\u65B9\u6CD5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoTest1</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserDao</span> userDao <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDao</span><span class="token punctuation">)</span> app<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD0\u884C\u5982\u4E0B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\u4E03\u6708 <span class="token number">17</span>, <span class="token number">2022</span> <span class="token number">3</span>:39:20 \u4E0B\u5348 org.springframework.context.support.AbstractApplicationContext prepareRefresh
\u4FE1\u606F: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@6c629d6e: startup <span class="token function">date</span> <span class="token punctuation">[</span>Sun Jul <span class="token number">17</span> <span class="token number">15</span>:39:20 CST <span class="token number">2022</span><span class="token punctuation">]</span><span class="token punctuation">;</span> root of context hierarchy
\u4E03\u6708 <span class="token number">17</span>, <span class="token number">2022</span> <span class="token number">3</span>:39:20 \u4E0B\u5348 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
\u4FE1\u606F: Loading XML bean definitions from class path resource <span class="token punctuation">[</span>applicationContext.xml<span class="token punctuation">]</span>
UserDao save method running<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6574\u4F53\u9879\u76EE\u67B6\u6784\u5982\u56FE\u6240\u793A\uFF1A</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220717154313023.png" alt="image-20220717154313023" loading="lazy"></p><h2 id="_3-spring\u7684\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_3-spring\u7684\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 3.Spring\u7684\u914D\u7F6E\u6587\u4EF6</h2><h3 id="_3-1-bean\u7684\u6807\u7B7E\u57FA\u672C\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-1-bean\u7684\u6807\u7B7E\u57FA\u672C\u914D\u7F6E" aria-hidden="true">#</a> 3.1 Bean\u7684\u6807\u7B7E\u57FA\u672C\u914D\u7F6E</h3><p>\u7528\u4E8E\u914D\u7F6E\u5BF9\u8C61\u4EA4\u7531<code>Spring</code> \u6765\u521B\u5EFA\u3002 \u9ED8\u8BA4\u60C5\u51B5\u4E0B\u5B83\u8C03\u7528\u7684\u662F\u7C7B\u4E2D\u7684<code>\u65E0\u53C2\u6784\u9020\u51FD\u6570</code>\uFF0C\u5982\u679C\u6CA1\u6709\u65E0\u53C2\u6784\u9020\u51FD\u6570\u5219\u4E0D\u80FD\u521B\u5EFA\u6210\u529F\u3002</p><p>\u57FA\u672C\u5C5E\u6027\uFF1A</p><ul><li><code>id</code>\uFF1ABean\u5B9E\u4F8B\u5728Spring\u5BB9\u5668\u4E2D\u7684\u552F\u4E00\u6807\u8BC6</li><li><code>class</code>\uFF1ABean\u7684\u5168\u9650\u5B9A\u540D\u79F0</li></ul><h3 id="_3-2-bean\u6807\u7B7E\u8303\u56F4\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-2-bean\u6807\u7B7E\u8303\u56F4\u914D\u7F6E" aria-hidden="true">#</a> 3.2 Bean\u6807\u7B7E\u8303\u56F4\u914D\u7F6E</h3><p>scope\uFF1A\u6307\u5BF9\u8C61\u7684\u4F5C\u7528\u8303\u56F4\uFF0C\u53D6\u503C\u5982\u4E0B\uFF1A</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220717154758130.png" alt="image-20220717154758130" loading="lazy"></p><p><code>1\uFF09\u5F53scope\u7684\u53D6\u503C\u4E3Asingleton\u65F6</code> Bean\u7684\u5B9E\u4F8B\u5316\u4E2A\u6570\uFF1A1\u4E2A Bean\u7684\u5B9E\u4F8B\u5316\u65F6\u673A\uFF1A\u5F53Spring\u6838\u5FC3\u6587\u4EF6\u88AB\u52A0\u8F7D\u65F6\uFF0C\u5B9E\u4F8B\u5316\u914D\u7F6E\u7684Bean\u5B9E\u4F8B Bean\u7684\u751F\u547D\u5468\u671F\uFF1A</p><ul><li>\u5BF9\u8C61\u521B\u5EFA\uFF1A\u5F53\u5E94\u7528\u52A0\u8F7D\uFF0C\u521B\u5EFA\u5BB9\u5668\u65F6\uFF0C\u5BF9\u8C61\u5C31\u88AB\u521B\u5EFA\u4E86</li><li>\u5BF9\u8C61\u8FD0\u884C\uFF1A\u53EA\u8981\u5BB9\u5668\u5728\uFF0C\u5BF9\u8C61\u4E00\u76F4\u6D3B\u7740</li><li>\u5BF9\u8C61\u9500\u6BC1\uFF1A\u5F53\u5E94\u7528\u5378\u8F7D\uFF0C\u9500\u6BC1\u5BB9\u5668\u65F6\uFF0C\u5BF9\u8C61\u5C31\u88AB\u9500\u6BC1\u4E86</li></ul><p><code>2\uFF09\u5F53scope\u7684\u53D6\u503C\u4E3Aprototype\u65F6</code> Bean\u7684\u5B9E\u4F8B\u5316\u4E2A\u6570\uFF1A\u591A\u4E2A Bean\u7684\u5B9E\u4F8B\u5316\u65F6\u673A\uFF1A\u5F53\u8C03\u7528getBean()\u65B9\u6CD5\u65F6\u5B9E\u4F8B\u5316Bean</p><ul><li>\u5BF9\u8C61\u521B\u5EFA\uFF1A\u5F53\u4F7F\u7528\u5BF9\u8C61\u65F6\uFF0C\u521B\u5EFA\u65B0\u7684\u5BF9\u8C61\u5B9E\u4F8B</li><li>\u5BF9\u8C61\u8FD0\u884C\uFF1A\u53EA\u8981\u5BF9\u8C61\u5728\u4F7F\u7528\u4E2D\uFF0C\u5C31\u4E00\u76F4\u6D3B\u7740</li><li>\u5BF9\u8C61\u9500\u6BC1\uFF1A\u5F53\u5BF9\u8C61\u957F\u65F6\u95F4\u4E0D\u7528\u65F6\uFF0C\u88AB Java \u7684\u5783\u573E\u56DE\u6536\u5668\u56DE\u6536\u4E86</li></ul><p>\u914D\u7F6EapplicationContext.xml\u7684\u914D\u7F6E\u6587\u4EF6\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.Dao.impl.UserDaoImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prototype<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4FEE\u6539\u4E00\u4E0B\u6D4B\u8BD5\u7528\u4F8B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoTest1</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserDao</span> userDao1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDao</span><span class="token punctuation">)</span> app<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserDao</span> userDao2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDao</span><span class="token punctuation">)</span> app<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userDao1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userDao2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD0\u884C\u7ED3\u679C\u5982\u4E0B\uFF1A</p><p>\u8FD0\u884C\u7684\u7ED3\u679C\u662F\u4E24\u4E2A\u5B8C\u5168\u4E0D\u4E00\u6837\u7684\u5730\u5740</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>com.example.Dao.impl.UserDaoImpl@131276c2
com.example.Dao.impl.UserDaoImpl@26aa12dd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-bean\u751F\u547D\u5468\u671F\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-3-bean\u751F\u547D\u5468\u671F\u914D\u7F6E" aria-hidden="true">#</a> 3.3 Bean\u751F\u547D\u5468\u671F\u914D\u7F6E</h3><ul><li><code>init-method\uFF1A</code>\u6307\u5B9A\u7C7B\u4E2D\u7684\u521D\u59CB\u5316\u65B9\u6CD5\u540D\u79F0</li><li><code>destroy-method\uFF1A</code>\u6307\u5B9A\u7C7B\u4E2D\u9500\u6BC1\u65B9\u6CD5\u540D\u79F0</li></ul><p>UserDao\u63A5\u53E3\u6DFB\u52A0init\u548Cdestory\u7684\u65B9\u6CD5\uFF0C\u518D\u7528UserDaoImpl\u5B9E\u73B0\u7C7B\u91CD\u5199\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserDao save method running...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u521D\u59CB\u5316\u4E2D&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u9500\u6BC1\u4E2D&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4FEE\u6539applicationContext.xml\u7684\u914D\u7F6E\u6587\u4EF6</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.Dao.impl.UserDaoImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init<span class="token punctuation">&quot;</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>destory<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u518D\u6B21\u8FD0\u884C\u6D4B\u8BD5\u7C7B\u4F1A\u770B\u5230init\u548Cdestory\u6267\u884C\u5B8C\u6210\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\u4E03\u6708 <span class="token number">17</span>, <span class="token number">2022</span> <span class="token number">3</span>:57:47 \u4E0B\u5348 org.springframework.context.support.AbstractApplicationContext prepareRefresh
\u4FE1\u606F: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@2eafffde: startup <span class="token function">date</span> <span class="token punctuation">[</span>Sun Jul <span class="token number">17</span> <span class="token number">15</span>:57:47 CST <span class="token number">2022</span><span class="token punctuation">]</span><span class="token punctuation">;</span> root of context hierarchy
\u4E03\u6708 <span class="token number">17</span>, <span class="token number">2022</span> <span class="token number">3</span>:57:47 \u4E0B\u5348 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
\u4FE1\u606F: Loading XML bean definitions from class path resource <span class="token punctuation">[</span>applicationContext.xml<span class="token punctuation">]</span>
\u521D\u59CB\u5316\u4E2D
UserDao save method running<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-bean\u5B9E\u4F8B\u5316\u7684\u4E09\u79CD\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_3-4-bean\u5B9E\u4F8B\u5316\u7684\u4E09\u79CD\u65B9\u5F0F" aria-hidden="true">#</a> 3.4 Bean\u5B9E\u4F8B\u5316\u7684\u4E09\u79CD\u65B9\u5F0F</h3><p>\u{1F7E2} \u65E0\u53C2<code>\u6784\u9020</code>\u65B9\u6CD5\u5B9E\u4F8B\u5316</p><p>\u{1F7E2} \u5DE5\u5382<code>\u9759\u6001</code>\u65B9\u6CD5\u5B9E\u4F8B\u5316</p><p>\u{1F7E2} \u5DE5\u5382<code>\u5B9E\u4F8B</code>\u65B9\u6CD5\u5B9E\u4F8B\u5316</p><p><code>1\uFF09 \u4F7F\u7528\u65E0\u53C2\u6784\u9020\u65B9\u6CD5\u5B9E\u4F8B\u5316</code></p><p>\u5B83\u4F1A\u6839\u636E\u9ED8\u8BA4\u65E0\u53C2\u6784\u9020\u65B9\u6CD5\u6765\u521B\u5EFA\u7C7B\u5BF9\u8C61\uFF0C\u5982\u679Cbean\u4E2D\u6CA1\u6709\u9ED8\u8BA4\u65E0\u53C2\u6784\u9020\u51FD\u6570\uFF0C\u5C06\u4F1A\u521B\u5EFA\u5931\u8D25</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.Dao.impl.UserDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>2\uFF09 \u5DE5\u5382\u9759\u6001\u65B9\u6CD5\u5B9E\u4F8B\u5316</code></p><p>\u5DE5\u5382\u7684\u9759\u6001\u65B9\u6CD5\u8FD4\u56DEBean\u5B9E\u4F8B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">UserDao</span> <span class="token function">getUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDaoImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.factory.StaticFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getUserDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>3\uFF09 \u5DE5\u5382\u5B9E\u4F8B\u65B9\u6CD5\u5B9E\u4F8B\u5316</code></p><p>\u5DE5\u5382\u7684\u975E\u9759\u6001\u65B9\u6CD5\u8FD4\u56DEBean\u5B9E\u4F8B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DynamicFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDao</span> <span class="token function">getUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDaoImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>factory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.factory.DynamicFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>factory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getUserDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-5-bean\u7684\u4F9D\u8D56\u6CE8\u5165" tabindex="-1"><a class="header-anchor" href="#_3-5-bean\u7684\u4F9D\u8D56\u6CE8\u5165" aria-hidden="true">#</a> 3.5 Bean\u7684\u4F9D\u8D56\u6CE8\u5165</h3><p>\u2460 \u521B\u5EFA UserService\uFF0CUserService \u5185\u90E8\u5728\u8C03\u7528 UserDao\u7684save() \u65B9\u6CD5</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserDao</span> userDao1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDao</span><span class="token punctuation">)</span> app<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDao1<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u2461 \u5C06 UserServiceImpl \u7684\u521B\u5EFA\u6743\u4EA4\u7ED9 Spring</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.Dao.impl.UserDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.service.impl.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u2462 \u4ECE Spring \u5BB9\u5668\u4E2D\u83B7\u5F97 UserService \u8FDB\u884C\u64CD\u4F5C</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> app<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-6-bean\u7684\u4F9D\u8D56\u6CE8\u5165\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#_3-6-bean\u7684\u4F9D\u8D56\u6CE8\u5165\u5206\u6790" aria-hidden="true">#</a> 3.6 Bean\u7684\u4F9D\u8D56\u6CE8\u5165\u5206\u6790</h3><p>\u76EE\u524DUserService\u5B9E\u4F8B\u548CUserDao\u5B9E\u4F8B\u90FD\u5B58\u5728\u4E0ESpring\u5BB9\u5668\u4E2D\uFF0C\u5F53\u524D\u7684\u505A\u6CD5\u662F\u5728\u5BB9\u5668\u5916\u90E8\u83B7\u5F97UserService \u5B9E\u4F8B\u548CUserDao\u5B9E\u4F8B\uFF0C\u7136\u540E\u5728\u7A0B\u5E8F\u4E2D\u8FDB\u884C\u7ED3\u5408\u3002</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220717171101569.png" alt="image-20220717171101569" loading="lazy"></p><p>\u56E0\u4E3AUserService\u548CUserDao\u90FD\u5728Spring\u5BB9\u5668\u4E2D\uFF0C\u800C\u6700\u7EC8\u7A0B\u5E8F\u76F4\u63A5\u4F7F\u7528\u7684\u662FUserService\uFF0C\u6240\u4EE5\u53EF\u4EE5\u5728 Spring\u5BB9\u5668\u4E2D\uFF0C\u5C06UserDao\u8BBE\u7F6E\u5230UserService\u5185\u90E8\u3002</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220717171140118.png" alt="image-20220717171140118" loading="lazy"></p><p><strong>Bean\u7684\u4F9D\u8D56\u6CE8\u5165\u6982\u5FF5</strong></p><p>\u4F9D\u8D56\u6CE8\u5165<code>\uFF08Dependency Injection\uFF09</code>\uFF1A\u5B83\u662F Spring \u6846\u67B6\u6838\u5FC3 IOC \u7684\u5177\u4F53\u5B9E\u73B0\u3002</p><p>\u5728\u7F16\u5199\u7A0B\u5E8F\u65F6\uFF0C\u901A\u8FC7\u63A7\u5236\u53CD\u8F6C\uFF0C\u628A\u5BF9\u8C61\u7684\u521B\u5EFA\u4EA4\u7ED9\u4E86 Spring\uFF0C\u4F46\u662F\u4EE3\u7801\u4E2D\u4E0D\u53EF\u80FD\u51FA\u73B0\u6CA1\u6709\u4F9D\u8D56\u7684\u60C5\u51B5\u3002 IOC \u89E3\u8026\u53EA\u662F\u964D\u4F4E\u4ED6\u4EEC\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u4F46\u4E0D\u4F1A\u6D88\u9664\u3002\u4F8B\u5982\uFF1A\u4E1A\u52A1\u5C42\u4ECD\u4F1A\u8C03\u7528\u6301\u4E45\u5C42\u7684\u65B9\u6CD5\u3002</p><p>\u90A3\u8FD9\u79CD\u4E1A\u52A1\u5C42\u548C\u6301\u4E45\u5C42\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5728\u4F7F\u7528 Spring \u4E4B\u540E\uFF0C\u5C31\u8BA9 Spring \u6765\u7EF4\u62A4\u4E86\u3002 \u7B80\u5355\u7684\u8BF4\uFF0C\u5C31\u662F\u5750\u7B49\u6846\u67B6\u628A\u6301\u4E45\u5C42\u5BF9\u8C61\u4F20\u5165\u4E1A\u52A1\u5C42\uFF0C\u800C\u4E0D\u7528\u6211\u4EEC\u81EA\u5DF1\u53BB\u83B7\u53D6\u3002</p><h3 id="_3-7-bean\u7684\u4F9D\u8D56\u6CE8\u5165\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_3-7-bean\u7684\u4F9D\u8D56\u6CE8\u5165\u65B9\u5F0F" aria-hidden="true">#</a> 3.7 Bean\u7684\u4F9D\u8D56\u6CE8\u5165\u65B9\u5F0F</h3><ul><li>\u6784\u9020\u65B9\u6CD5</li><li>set\u65B9\u6CD5</li></ul><p><strong><code>1\uFF09set\u65B9\u6CD5\u6CE8\u5165</code></strong></p><p>\u5728UserServiceImpl\u4E2D\u6DFB\u52A0setUserDao\u65B9\u6CD5</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token class-name">UserDaoImpl</span> userDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUserDao</span><span class="token punctuation">(</span><span class="token class-name">UserDao</span> userDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        userDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6ESpring\u5BB9\u5668\u8C03\u7528set\u65B9\u6CD5\u8FDB\u884C\u6CE8\u5165</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.Dao.impl.UserDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.service.impl.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>2\uFF09set\u65B9\u6CD5\u6CE8\u5165</code></strong></p><p>P\u547D\u540D\u7A7A\u95F4\u6CE8\u5165\u672C\u8D28\u4E5F\u662Fset\u65B9\u6CD5\u6CE8\u5165\uFF0C\u4F46\u6BD4\u8D77\u4E0A\u8FF0\u7684set\u65B9\u6CD5\u6CE8\u5165\u66F4\u52A0\u65B9\u4FBF\uFF0C\u4E3B\u8981\u4F53\u73B0\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u5982\u4E0B\uFF1A \u9996\u5148\uFF0C\u9700\u8981\u5F15\u5165P\u547D\u540D\u7A7A\u95F4\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name">&lt;?--\u4E0B\u9762\u8FD9\u4E00\u884C\u662F\u5F15\u5165P\u547D\u540D\u7A7A\u95F4--</span><span class="token punctuation">&gt;</span></span>
       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.service.impl.UserServiceImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">p:</span>userDao-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>3\uFF09\u6784\u9020\u65B9\u6CD5\u6CE8\u5165</code></strong></p><p>\u521B\u5EFA\u6709\u53C2\u6784\u9020</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token class-name">UserDaoImpl</span> userDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUserDao</span><span class="token punctuation">(</span><span class="token class-name">UserDao</span> userDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> applicationContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDao <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDao</span><span class="token punctuation">)</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6ESpring\u5BB9\u5668\u8C03\u7528\u6709\u53C2\u6784\u9020\u65F6\u8FDB\u884C\u6CE8\u5165</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.Dao.impl.UserDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.service.impl.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD0\u884C\u6D4B\u8BD5\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> app<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-8-bean\u7684\u4F9D\u8D56\u6CE8\u5165\u6570\u636E\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_3-8-bean\u7684\u4F9D\u8D56\u6CE8\u5165\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a> 3.8 Bean\u7684\u4F9D\u8D56\u6CE8\u5165\u6570\u636E\u7C7B\u578B</h3><p>\u4E0A\u9762\u7684\u64CD\u4F5C\uFF0C\u90FD\u662F\u6CE8\u5165\u7684\u5F15\u7528Bean\uFF0C\u5904\u4E86\u5BF9\u8C61\u7684\u5F15\u7528\u53EF\u4EE5\u6CE8\u5165\uFF0C\u666E\u901A\u6570\u636E\u7C7B\u578B\uFF0C\u96C6\u5408\u7B49\u90FD\u53EF\u4EE5\u5728\u5BB9\u5668\u4E2D\u8FDB\u884C\u6CE8\u5165\u3002</p><p>\u6CE8\u5165\u6570\u636E\u7684\u4E09\u79CD\u6570\u636E\u7C7B\u578B</p><ul><li><code>\u666E\u901A\u6570\u636E\u7C7B\u578B</code></li><li><code>\u5F15\u7528\u6570\u636E\u7C7B\u578B</code></li><li><code>\u96C6\u5408\u6570\u636E\u7C7B\u578B</code></li></ul><p>\u5176\u4E2D\u5F15\u7528\u6570\u636E\u7C7B\u578B\uFF0C\u6B64\u5904\u5C31\u4E0D\u518D\u8D58\u8FF0\u4E86\uFF0C\u4E4B\u524D\u7684\u64CD\u4F5C\u90FD\u662F\u5BF9UserDao\u5BF9\u8C61\u7684\u5F15\u7528\u8FDB\u884C\u6CE8\u5165\u7684\uFF0C\u4E0B\u9762\u5C06\u4EE5set\u65B9\u6CD5\u6CE8\u5165\u4E3A \u4F8B\uFF0C\u6F14\u793A\u666E\u901A\u6570\u636E\u7C7B\u578B\u548C\u96C6\u5408\u6570\u636E\u7C7B\u578B\u7684\u6CE8\u5165\u3002</p><p><strong>1\uFF09 \u666E\u901A\u6570\u636E\u7C7B\u578B\u7684\u6CE8\u5165</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> company<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCompany</span><span class="token punctuation">(</span><span class="token class-name">String</span> company<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>company <span class="token operator">=</span> company<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setage</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>company <span class="token operator">+</span> <span class="token string">&quot;====&quot;</span> <span class="token operator">+</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserDao save method running...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4FEE\u6539spring\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u666E\u901A\u6570\u636E\u7C7B\u578B\u7684\u6CE8\u5165</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.Dao.impl.UserDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u4F20\u667A\u64AD\u5BA2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>15<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD0\u884C\u6D4B\u8BD5\u7C7B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoTest1</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserDao</span> userDao1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDao</span><span class="token punctuation">)</span> app<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDao1<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD0\u884C\u7ED3\u679C\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u4F20\u667A\u64AD\u5BA2====15
UserDao save method running...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2\uFF09\u96C6\u5408\u6570\u636E\u7C7B\u578B\uFF08List\uFF09\u7684\u6CE8\u5165</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> strList<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userList<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userMap<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUserList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userList <span class="token operator">=</span> userList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUserMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userMap <span class="token operator">=</span> userMap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStrList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> strList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>strList <span class="token operator">=</span> strList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>strList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserDao save method running...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>spring\u7684\u914D\u7F6E\u6587\u4EF6</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.Dao.impl.UserDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>u1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>u2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.domain.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tom<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addr<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beijing<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.domain.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Jeeny<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addr<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tianjing<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3\uFF09\u96C6\u5408\u6570\u636E\u7C7B\u578B\uFF08Properties\uFF09\u7684\u6CE8\u5165</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Properties</span> properties<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setProperties</span><span class="token punctuation">(</span><span class="token class-name">Properties</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>properties <span class="token operator">=</span> properties<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserDao save method running...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>spring\u7684\u914D\u7F6E\u6587\u4EF6</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.Dao.impl.UserDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>aaa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>bbb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ccc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-9-\u5206\u6A21\u5757\u5F00\u53D1" tabindex="-1"><a class="header-anchor" href="#_3-9-\u5206\u6A21\u5757\u5F00\u53D1" aria-hidden="true">#</a> 3.9 \u5206\u6A21\u5757\u5F00\u53D1</h3><p>\u5F15\u5165\u5176\u4ED6\u914D\u7F6E\u6587\u4EF6\uFF0C\u53EB\u505A\u5206\u6A21\u5757\u5F00\u53D1\u3002</p><p>\u5B9E\u9645\u5F00\u53D1\u4E2D\uFF0CSpring\u7684\u914D\u7F6E\u5185\u5BB9\u975E\u5E38\u591A\uFF0C\u8FD9\u5C31\u5BFC\u81F4Spring\u914D\u7F6E\u5F88\u7E41\u6742\u4E14\u4F53\u79EF\u5F88\u5927\uFF0C\u6240\u4EE5\uFF0C\u53EF\u4EE5\u5C06\u90E8\u5206\u914D\u7F6E\u62C6\u89E3\u5230\u5176\u4ED6 \u914D\u7F6E\u6587\u4EF6\u4E2D\uFF0C\u800C\u5728Spring\u4E3B\u914D\u7F6E\u6587\u4EF6\u901A\u8FC7import\u6807\u7B7E\u8FDB\u884C\u52A0\u8F7D</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>applicationContext-xxx.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-10-\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#_3-10-\u603B\u7ED3" aria-hidden="true">#</a> 3.10 \u603B\u7ED3</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span><span class="token punctuation">&gt;</span></span>\u6807\u7B7E
	id\u5C5E\u6027:\u5728\u5BB9\u5668\u4E2DBean\u5B9E\u4F8B\u7684\u552F\u4E00\u6807\u8BC6\uFF0C\u4E0D\u5141\u8BB8\u91CD\u590D
	class\u5C5E\u6027:\u8981\u5B9E\u4F8B\u5316\u7684Bean\u7684\u5168\u9650\u5B9A\u540D
	scope\u5C5E\u6027:Bean\u7684\u4F5C\u7528\u8303\u56F4\uFF0C\u5E38\u7528\u662FSingleton(\u9ED8\u8BA4)\u548Cprototype
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>\u6807\u7B7E\uFF1A\u5C5E\u6027\u6CE8\u5165
			name\u5C5E\u6027\uFF1A\u5C5E\u6027\u540D\u79F0
			value\u5C5E\u6027\uFF1A\u6CE8\u5165\u7684\u666E\u901A\u5C5E\u6027\u503C
			ref\u5C5E\u6027\uFF1A\u6CE8\u5165\u7684\u5BF9\u8C61\u5F15\u7528\u503C
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>\u6807\u7B7E
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">&gt;</span></span>\u6807\u7B7E
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>\u6807\u7B7E
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>\u6807\u7B7E
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span><span class="token punctuation">&gt;</span></span>\u6807\u7B7E:\u5BFC\u5165\u5176\u4ED6\u7684Spring\u7684\u5206\u6587\u4EF6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-spring\u76F8\u5173api" tabindex="-1"><a class="header-anchor" href="#_4-spring\u76F8\u5173api" aria-hidden="true">#</a> 4.Spring\u76F8\u5173API</h2><h3 id="_4-1-\u7EE7\u627F\u4F53\u7CFB" tabindex="-1"><a class="header-anchor" href="#_4-1-\u7EE7\u627F\u4F53\u7CFB" aria-hidden="true">#</a> 4.1 \u7EE7\u627F\u4F53\u7CFB</h3><p>ApplicationContext\u7684\u7EE7\u627F\u4F53\u7CFB</p><p><code>applicationContext</code>\uFF1A\u63A5\u53E3\u7C7B\u578B\uFF0C\u4EE3\u8868\u5E94\u7528\u4E0A\u4E0B\u6587\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5176\u5B9E\u4F8B\u83B7\u5F97 Spring \u5BB9\u5668\u4E2D\u7684 Bean \u5BF9\u8C61</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220717190704886.png" alt="image-20220717190704886" loading="lazy"></p><h3 id="_4-2-\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#_4-2-\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> 4.2 \u5B9E\u73B0\u7C7B</h3><p>ApplicationContext\u7684\u5B9E\u73B0\u7C7B</p><p><code>1\uFF09ClassPathXmlApplicationContext</code></p><p>\u5B83\u662F\u4ECE\u7C7B\u7684\u6839\u8DEF\u5F84\u4E0B\u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6 \u63A8\u8350\u4F7F\u7528\u8FD9\u79CD</p><p><code>2\uFF09FileSystemXmlApplicationContext</code></p><p>\u5B83\u662F\u4ECE\u78C1\u76D8\u8DEF\u5F84\u4E0A\u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6\uFF0C\u914D\u7F6E\u6587\u4EF6\u53EF\u4EE5\u5728\u78C1\u76D8\u7684\u4EFB\u610F\u4F4D\u7F6E\u3002</p><p><code>3\uFF09AnnotationConfigApplicationContext</code></p><p>\u5F53\u4F7F\u7528\u6CE8\u89E3\u914D\u7F6E\u5BB9\u5668\u5BF9\u8C61\u65F6\uFF0C\u9700\u8981\u4F7F\u7528\u6B64\u7C7B\u6765\u521B\u5EFA spring \u5BB9\u5668\u3002\u5B83\u7528\u6765\u8BFB\u53D6\u6CE8\u89E3\u3002</p><h3 id="_4-3-getbean" tabindex="-1"><a class="header-anchor" href="#_4-3-getbean" aria-hidden="true">#</a> 4.3 getBean()</h3><p>getBean()\u65B9\u6CD5\u4F7F\u7528</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
	<span class="token function">assertBeanFactoryActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">getBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> requiredType<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
	<span class="token function">assertBeanFactoryActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">getBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>requiredType<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u6CE8\u610F\uFF1A\u5176\u4E2D\uFF0C\u5F53\u53C2\u6570\u7684\u6570\u636E\u7C7B\u578B\u662F\u5B57\u7B26\u4E32\u65F6\uFF0C\u8868\u793A\u6839\u636EBean\u7684id\u4ECE\u5BB9\u5668\u4E2D\u83B7\u5F97Bean\u5B9E\u4F8B\uFF0C\u8FD4\u56DE\u662FObject\uFF0C\u9700\u8981\u5F3A\u8F6C\u3002 \u5F53\u53C2\u6570\u7684\u6570\u636E\u7C7B\u578B\u662FClass\u7C7B\u578B\u65F6\uFF0C\u8868\u793A\u6839\u636E\u7C7B\u578B\u4ECE\u5BB9\u5668\u4E2D\u5339\u914DBean\u5B9E\u4F8B\uFF0C\u5F53\u5BB9\u5668\u4E2D\u76F8\u540C\u7C7B\u578B\u7684Bean\u6709\u591A\u4E2A\u65F6\uFF0C \u5219\u6B64\u65B9\u6CD5\u4F1A\u62A5\u9519\u3002</p></blockquote>`,165),o=[e];function c(l,i){return s(),a("div",null,o)}const k=n(p,[["render",c],["__file","01.Spring\u7684IoC\u548CDI.html.vue"]]);export{k as default};
