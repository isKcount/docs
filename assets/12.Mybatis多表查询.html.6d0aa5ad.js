import{_ as s}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as n,c as a,f as t}from"./app.ca0279c0.js";const p={},e=t(`<h1 id="mybatis\u591A\u8868\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#mybatis\u591A\u8868\u67E5\u8BE2" aria-hidden="true">#</a> Mybatis\u591A\u8868\u67E5\u8BE2</h1><h2 id="_1-\u591A\u8868\u67E5\u8BE2\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_1-\u591A\u8868\u67E5\u8BE2\u64CD\u4F5C" aria-hidden="true">#</a> 1.\u591A\u8868\u67E5\u8BE2\u64CD\u4F5C</h2><h3 id="_1-1-\u4EC0\u4E48\u662F\u591A\u8868\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_1-1-\u4EC0\u4E48\u662F\u591A\u8868\u67E5\u8BE2" aria-hidden="true">#</a> 1.1 \u4EC0\u4E48\u662F\u591A\u8868\u67E5\u8BE2</h3><p><strong>\u591A\u8868\u5173\u7CFB</strong></p><p>\u9879\u76EE\u5F00\u53D1\u4E2D\uFF0C\u5728\u8FDB\u884C\u6570\u636E\u5E93\u8868\u7ED3\u6784\u8BBE\u8BA1\u65F6\uFF0C\u4F1A\u6839\u636E\u4E1A\u52A1\u9700\u6C42\u53CA\u4E1A\u52A1\u6A21\u5757\u4E4B\u95F4\u7684\u5173\u7CFB\uFF0C\u5206\u6790\u5E76\u8BBE\u8BA1\u8868\u7ED3\u6784\uFF0C\u7531\u4E8E\u4E1A\u52A1\u4E4B\u95F4\u76F8\u4E92\u5173\u8054\uFF0C\u6240\u4EE5\u5404\u4E2A\u8868\u7ED3\u6784\u4E4B\u95F4\u4E5F\u5B58\u5728\u7740\u5404\u79CD\u8054\u7CFB\uFF0C\u57FA\u672C\u4E0A\u5206\u4E3A\u4E09\u79CD\uFF1A</p><ul><li>\u4E00\u5BF9\u591A(\u591A\u5BF9\u4E00)</li><li>\u591A\u5BF9\u591A</li><li>\u4E00\u5BF9\u4E00</li></ul><h3 id="_1-2-\u591A\u8868\u67E5\u8BE2\u7684\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_1-2-\u591A\u8868\u67E5\u8BE2\u7684\u73AF\u5883" aria-hidden="true">#</a> 1.2 \u591A\u8868\u67E5\u8BE2\u7684\u73AF\u5883</h3><p>1.\u914D\u7F6E\u6570\u636E\u5E93\u7684\u73AF\u5883</p><p>\u4F7F\u7528\u591A\u8868\u67E5\u8BE2\uFF0C\u6211\u4EEC\u9700\u8981\u8BBE\u8BA1\u4E00\u4E2A\u6570\u636E\u5E93\uFF0C\u8BBE\u8BA1\u51E0\u4E2A\u8868\u5355\uFF0C\u5206\u522B\u6D89\u53CA\u5230\u5355\u8868\u67E5\u8BE2\u548C\u591A\u8868\u67E5\u8BE2\u7684\u95EE\u9898\uFF0C\u5982\u4E0B\u662F\u6211\u8BBE\u8BA1\u597D\u7684\u6570\u636E\u5E93\u4EE5\u53CA\u8868\u5355\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> test<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> test<span class="token punctuation">;</span>

<span class="token comment">-- \u521B\u5EFA\u7528\u6237\u7684\u8868\u5355</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">user</span><span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u7528\u6237ID&#39;</span><span class="token punctuation">,</span>
    username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u7528\u6237\u540D&#39;</span><span class="token punctuation">,</span>
    password <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u5BC6\u7801&#39;</span><span class="token punctuation">,</span>
    birthday <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u751F\u65E5&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u7528\u6237\u8868\u5355&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- \u521B\u5EFA\u8BA2\u5355\u7684\u8868\u5355</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> orders<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> orders<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u8BA2\u5355ID&#39;</span><span class="token punctuation">,</span>
    ordertime <span class="token keyword">date</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u8BA2\u5355\u65F6\u95F4&#39;</span><span class="token punctuation">,</span>
    total <span class="token keyword">double</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u603B\u5171\u8BA2\u5355\u6570\u91CF&#39;</span><span class="token punctuation">,</span>
    uuid <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u7528\u6237\u7684ID&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> user_orders <span class="token keyword">foreign</span> <span class="token keyword">key</span> orders<span class="token punctuation">(</span>uuid<span class="token punctuation">)</span> <span class="token keyword">references</span> <span class="token keyword">user</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u8BA2\u5355\u8868&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- \u521B\u5EFA\u89D2\u8272\u7684\u8868\u5355</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> role<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> role<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u89D2\u8272ID&#39;</span><span class="token punctuation">,</span>
    roleName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u89D2\u8272\u540D\u79F0&#39;</span><span class="token punctuation">,</span>
    roleDesc <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u89D2\u8272\u7684\u63CF\u8FF0&#39;</span>
    <span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u89D2\u8272\u8868&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> role <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&#39;\u5546\u5BB6&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u8D1F\u8D23\u5356\u5546\u54C1\u7684\u5546\u5BB6&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> role <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&#39;\u4E70\u5BB6&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u8D1F\u8D23\u4E70\u5546\u54C1\u7684\u987E\u5BA2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> role <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&#39;\u7BA1\u7406\u5458&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u8D1F\u8D23\u5546\u54C1\u7684\u7BA1\u7406\u95EE\u9898&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u521B\u5EFA\u7528\u6237\u548C\u89D2\u8272\u7684\u4E2D\u95F4\u8868</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> user_role<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> user_role<span class="token punctuation">(</span>
    userId <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u7528\u6237id&#39;</span><span class="token punctuation">,</span>
    roleId <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u89D2\u8272id&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> user_userId <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>userId<span class="token punctuation">)</span> <span class="token keyword">references</span> <span class="token keyword">user</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> role_roleId <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>roleId<span class="token punctuation">)</span> <span class="token keyword">references</span> role<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;\u4E2D\u95F4\u8868&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> user_role <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> user_role <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> user_role <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> user_role <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> user_role <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220730150122609.png" alt="image-20220730150122609" loading="lazy"></p><p>2.\u914D\u7F6E\u6D4B\u8BD5\u73AF\u5883</p><p>\u6D4B\u8BD5\u73AF\u5883\u7684\u51C6\u5907\u5982\u4E0B\uFF1A</p><ul><li>\u5728\u6D4B\u8BD5\u73AF\u5883\u6211\u4EEC\u9700\u8981\u521B\u5EFA\u597D\u4E09\u4E2A\u5B9E\u4F53\u7C7B\u5206\u522B\u662F\u5982\u4E0A\u7684<code>Role\u3001User\u3001Order</code>\u3002</li><li>\u5BFC\u5165\u76F8\u5173\u7684\u5750\u6807\u4EE5\u53CA\u914D\u7F6E\u597Dlog4\u548Cjdbc\u7684properties\u914D\u7F6E\u6587\u4EF6</li><li>\u9700\u8981\u521B\u5EFA<code>sqlMapConfig.xml</code>\u548C<code>UserMapper.xml</code>\u4EE5\u53CA<code>OrderMapper.xml</code>\u7684\u6570\u636E\u5E93\u914D\u7F6E\u6587\u4EF6</li><li>\u4F7F\u7528\u63A5\u53E3\u4EE3\u7406\u7684\u65B9\u5F0F\u53BB\u8C03\u7528\u5BF9\u6570\u636E\u5E93\u7684\u589E\u5220\u6539\u67E5</li><li>\u6DFB\u52A0Date\u7C7B\u578B\u8F6C\u6362</li></ul><p>1.\u4E09\u4E2A\u5B9E\u4F53\u7C7B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> birthday<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Role</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> roleName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> roleDesc<span class="token punctuation">;</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> ordertime<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> total<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.\u4E24\u4E2A\u63A5\u53E3\u7684\u4EE3\u7406\u914D\u7F6E</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderMapper</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.jdbc\u7684\u6570\u636E\u5E93\u8FDE\u63A5\u914D\u7F6E\u4FE1\u606F\u7701\u7565\uFF0C\u5982\u4E0B\u662Flog4j\u7684</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment">### direct log messages to stdout ###</span>
<span class="token key attr-name">log4j.appender.stdout</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.ConsoleAppender</span>
<span class="token key attr-name">log4j.appender.stdout.Target</span><span class="token punctuation">=</span><span class="token value attr-value">System.out</span>
<span class="token key attr-name">log4j.appender.stdout.layout</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.PatternLayout</span>
<span class="token key attr-name">log4j.appender.stdout.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token value attr-value">%d{ABSOLUTE} %5p %c{1}:%L - %m%n</span>

<span class="token comment">### direct messages to file mylog.log ###</span>
<span class="token key attr-name">log4j.appender.file</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.FileAppender</span>
<span class="token key attr-name">log4j.appender.file.File</span><span class="token punctuation">=</span><span class="token value attr-value">c:/mylog.log</span>
<span class="token key attr-name">log4j.appender.file.layout</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.PatternLayout</span>
<span class="token key attr-name">log4j.appender.file.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token value attr-value">%d{ABSOLUTE} %5p %c{1}:%L - %m%n</span>

<span class="token comment">### set log levels - for more verbose logging change &#39;info&#39; to &#39;debug&#39; ###</span>

<span class="token key attr-name">log4j.rootLogger</span><span class="token punctuation">=</span><span class="token value attr-value">debug, stdout</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4.sqlMapConfig\u7684\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--\u914D\u7F6E\u5F15\u5165\u6570\u636E\u6E90--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc.properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--\u914D\u7F6E\u522B\u540D--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAlias</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.domain.User<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAlias</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAlias</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.domain.Order<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>order<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAlias</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAlias</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.domain.Role<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>role<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAlias</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token comment">&lt;!--\u6CE8\u518C\u7C7B\u578B\u5904\u7406\u5668--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeHandlers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeHandler</span> <span class="token attr-name">handler</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.handler.DateTypeHandler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeHandler</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeHandlers</span><span class="token punctuation">&gt;</span></span>


    <span class="token comment">&lt;!--\u914D\u7F6E\u6570\u636E\u6E90--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transactionManager</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--\u5F15\u5165\u6620\u5C04\u6587\u4EF6--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com/example/mapper/userMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com/example/mapper/OrderMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5.\u914D\u7F6EBaseTypeHandler\u7528\u6765\u5C06java\u7C7B\u578B\u8F6C\u6362\u6570\u636E\u5E93\u7C7B\u578B\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DateTypeHandler</span> <span class="token keyword">extends</span> <span class="token class-name">BaseTypeHandler</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Date</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5C06java\u7C7B\u578B\u8F6C\u6362\u6210\u6570\u636E\u5E93\u9700\u8981\u7684\u7C7B\u578B</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNonNullParameter</span><span class="token punctuation">(</span><span class="token class-name">PreparedStatement</span> preparedStatement<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token class-name">Date</span> date<span class="token punctuation">,</span> <span class="token class-name">JdbcType</span> jdbcType<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> time <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setLong</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u5C06\u6570\u636E\u5E93\u4E2D\u7684\u7C7B\u578B \u8F6C\u6362\u4E3Ajava\u7C7B\u578B</span>
    <span class="token comment">// string \u8981\u8F6C\u6362\u7684\u5B57\u7B26\u4E32</span>
    <span class="token comment">// resultSet \u67E5\u8BE2\u51FA\u7684\u7ED3\u679C</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">getNullableResult</span><span class="token punctuation">(</span><span class="token class-name">ResultSet</span> resultSet<span class="token punctuation">,</span> <span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u83B7\u5F97\u7ED3\u679C\u4E2D\u9700\u8981\u7684\u6570\u636E(long) \u8F6C\u6362\u4E3ADate\u7C7B\u578B</span>
        <span class="token keyword">long</span> along <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>along<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span>  date<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// \u5C06\u6570\u636E\u5E93\u4E2D\u7684\u7C7B\u578B \u8F6C\u6362\u4E3Ajava\u7C7B\u578B</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">getNullableResult</span><span class="token punctuation">(</span><span class="token class-name">ResultSet</span> resultSet<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> along <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>along<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span>  date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u5C06\u6570\u636E\u5E93\u4E2D\u7684\u7C7B\u578B \u8F6C\u6362\u4E3Ajava\u7C7B\u578B</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">getNullableResult</span><span class="token punctuation">(</span><span class="token class-name">CallableStatement</span> callableStatement<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> aLong <span class="token operator">=</span> callableStatement<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>aLong<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-\u4E00\u5BF9\u4E00\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_1-3-\u4E00\u5BF9\u4E00\u67E5\u8BE2" aria-hidden="true">#</a> 1.3 \u4E00\u5BF9\u4E00\u67E5\u8BE2</h3><p><strong>\u4E00\u5BF9\u4E00\u67E5\u8BE2\u7684\u6A21\u578B</strong></p><p>\u7528\u6237\u8868\u548C\u8BA2\u5355\u8868\u7684\u5173\u7CFB\u4E3A\uFF0C\u4E00\u4E2A\u7528\u6237\u6709\u591A\u4E2A\u8BA2\u5355\uFF0C\u4E00\u4E2A\u8BA2\u5355\u53EA\u4ECE\u5C5E\u4E8E\u4E00\u4E2A\u7528\u6237</p><p>\u4E00\u5BF9\u4E00\u67E5\u8BE2\u7684\u9700\u6C42\uFF1A\u67E5\u8BE2\u4E00\u4E2A\u8BA2\u5355\uFF0C\u4E0E\u6B64\u540C\u65F6\u67E5\u8BE2\u51FA\u8BE5\u8BA2\u5355\u6240\u5C5E\u7684\u7528\u6237</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220730150236442.png" alt="image-20220730150236442" loading="lazy"></p><h4 id="_1-3-1-\u4E00\u5BF9\u4E00\u7684\u67E5\u8BE2\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#_1-3-1-\u4E00\u5BF9\u4E00\u7684\u67E5\u8BE2\u8BED\u53E5" aria-hidden="true">#</a> 1.3.1 \u4E00\u5BF9\u4E00\u7684\u67E5\u8BE2\u8BED\u53E5</h4><p>\u5BF9\u5E94\u7684sql\u8BED\u53E5\uFF1A<code>select *,o.id oid from user u,orders o where u.id=o.uuid;</code></p><p>\u67E5\u8BE2\u7684\u7ED3\u679C\u5982\u4E0B\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span>id oid <span class="token keyword">from</span>  <span class="token keyword">user</span> u<span class="token punctuation">,</span>orders o <span class="token keyword">where</span> u<span class="token punctuation">.</span>id<span class="token operator">=</span>o<span class="token punctuation">.</span>uuid<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+---------------+----+-----------+-------+------+-----+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span> birthday      <span class="token operator">|</span> id <span class="token operator">|</span> ordertime <span class="token operator">|</span> total <span class="token operator">|</span> uuid <span class="token operator">|</span> oid <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+---------------+----+-----------+-------+------+-----+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> zhangsan <span class="token operator">|</span> <span class="token number">000000</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">20190211</span> <span class="token operator">|</span>  <span class="token number">2500</span> <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> zhangsan <span class="token operator">|</span> <span class="token number">000000</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">20190215</span> <span class="token operator">|</span>  <span class="token number">3000</span> <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> lisi     <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">20200411</span> <span class="token operator">|</span>   <span class="token number">200</span> <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> test3    <span class="token operator">|</span> <span class="token number">000000</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">20210411</span> <span class="token operator">|</span>   <span class="token number">200</span> <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>   <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> <span class="token number">111111</span>   <span class="token operator">|</span> <span class="token number">1659149215839</span> <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span>  <span class="token number">20180411</span> <span class="token operator">|</span>  <span class="token number">1400</span> <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+---------------+----+-----------+-------+------+-----+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.03</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-2-\u521B\u5EFAorder\u7684user\u5B9E\u4F53" tabindex="-1"><a class="header-anchor" href="#_1-3-2-\u521B\u5EFAorder\u7684user\u5B9E\u4F53" aria-hidden="true">#</a> 1.3.2 \u521B\u5EFAOrder\u7684User\u5B9E\u4F53</h4><p>\u5728Order\u4E2D\u521B\u5EFAUser\u7684\u5B9E\u4F53\uFF0C\u8BB0\u5F97\u91CD\u5199toString\u7684\u65B9\u6CD5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> ordertime<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> total<span class="token punctuation">;</span>

    <span class="token comment">// \u5F53\u524D\u8BA2\u5355\u8F93\u5165\u54EA\u4E00\u4E2A\u7528\u6237</span>
    <span class="token keyword">private</span> <span class="token class-name">User</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-3-ordermapper\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_1-3-3-ordermapper\u914D\u7F6E" aria-hidden="true">#</a> 1.3.3 OrderMapper\u914D\u7F6E</h4><p>1.\u521B\u5EFAOrderMapper\u7684\u63A5\u53E3</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderMapper</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.\u914D\u7F6EOrderMapper.xml\u7684\u914D\u7F6E\u6587\u4EF6</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.dao.OrderMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orderMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>order<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--\u624B\u52A8\u53BB\u6307\u5B9A\u5B57\u6BB5\u4E0E\u5B9E\u4F53\u5C5E\u6027\u7684\u6620\u5C04\u5173\u7CFB--&gt;</span>
        <span class="token comment">&lt;!--
            column: \u6570\u636E\u8868\u7684\u5B57\u6BB5\u540D\u79F0
            property: \u5B9E\u4F53\u5C5E\u6027\u7684\u540D\u79F0
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ordertime<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ordertime<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
        
        <span class="token comment">&lt;!--\u8FD9\u91CC\u662FresultMap\u7684\u7B2C\u4E00\u79CD\u914D\u7F6E\u65B9\u6CD5--&gt;</span>
        <span class="token comment">&lt;!--&lt;result column=&quot;uuid&quot; property=&quot;user.id&quot;&gt;&lt;/result&gt;
        &lt;result column=&quot;username&quot; property=&quot;user.username&quot;&gt;&lt;/result&gt;
        &lt;result column=&quot;password&quot; property=&quot;user.password&quot;&gt;&lt;/result&gt;
        &lt;result column=&quot;birthday&quot; property=&quot;user.birthday&quot;&gt;&lt;/result&gt;--&gt;</span>

        <span class="token comment">&lt;!--
            property: \u5F53\u524D\u5B9E\u4F53(order)\u4E2D\u7684\u5C5E\u6027\u540D\u79F0(private User user)
            javaType: \u5F53\u524D\u5B9E\u4F53(order)\u4E2D\u7684\u5C5E\u6027\u7C7B\u578B(User)
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uuid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birthday<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birthday<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--\u6570\u636E\u5E93\u7684\u4E00\u5BF9\u4E00\u67E5\u8BE2--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orderMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select *,o.id oid  from orders o, user u where o.uuid = u.id
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-4-\u6D4B\u8BD5\u7ED3\u679C" tabindex="-1"><a class="header-anchor" href="#_1-3-4-\u6D4B\u8BD5\u7ED3\u679C" aria-hidden="true">#</a> 1.3.4 \u6D4B\u8BD5\u7ED3\u679C</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//\u63D0\u53D6\u7684\u65B9\u6CD5</span>
    <span class="token class-name">OrderMapper</span> orderMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">OrderMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> orderMapper<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Order</span> order <span class="token operator">:</span> userList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>order<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220730152740774.png" alt="image-20220730152740774" loading="lazy"></p><h3 id="_1-4-\u4E00\u5BF9\u591A\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_1-4-\u4E00\u5BF9\u591A\u67E5\u8BE2" aria-hidden="true">#</a> 1.4 \u4E00\u5BF9\u591A\u67E5\u8BE2</h3><p><strong>\u4E00\u5BF9\u591A\u67E5\u8BE2\u6A21\u578B</strong></p><p>\u7528\u6237\u8868\u548C\u8BA2\u5355\u8868\u7684\u5173\u7CFB\u4E3A\uFF0C\u4E00\u4E2A\u7528\u6237\u6709\u591A\u4E2A\u8BA2\u5355\uFF0C\u4E00\u4E2A\u8BA2\u5355\u53EA\u4ECE\u5C5E\u4E8E\u4E00\u4E2A\u7528\u6237</p><p>\u4E00\u5BF9\u591A\u67E5\u8BE2\u7684\u9700\u6C42\uFF1A\u67E5\u8BE2\u4E00\u4E2A\u7528\u6237\uFF0C\u4E0E\u6B64\u540C\u65F6\u67E5\u8BE2\u51FA\u8BE5\u7528\u6237\u5177\u6709\u7684\u8BA2\u5355</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220730205035399.png" alt="image-20220730205035399" loading="lazy"></p><h4 id="_1-4-1-\u4E00\u5BF9\u591A\u67E5\u8BE2\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#_1-4-1-\u4E00\u5BF9\u591A\u67E5\u8BE2\u8BED\u53E5" aria-hidden="true">#</a> 1.4.1 \u4E00\u5BF9\u591A\u67E5\u8BE2\u8BED\u53E5</h4><p>\u5BF9\u5E94\u7684sql\u8BED\u53E5\uFF1A <code>select *,o.id oid from user u,orders o where u.id=o.uuid;</code></p><p>\u67E5\u8BE2\u7ED3\u679C\u5982\u4E0B\uFF1A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span>id oid <span class="token keyword">from</span>  <span class="token keyword">user</span> u<span class="token punctuation">,</span>orders o <span class="token keyword">where</span> u<span class="token punctuation">.</span>id<span class="token operator">=</span>o<span class="token punctuation">.</span>uuid<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+---------------+----+-----------+-------+------+-----+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span> birthday      <span class="token operator">|</span> id <span class="token operator">|</span> ordertime <span class="token operator">|</span> total <span class="token operator">|</span> uuid <span class="token operator">|</span> oid <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+---------------+----+-----------+-------+------+-----+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> zhangsan <span class="token operator">|</span> <span class="token number">000000</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">20190211</span> <span class="token operator">|</span>  <span class="token number">2500</span> <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> zhangsan <span class="token operator">|</span> <span class="token number">000000</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">20190215</span> <span class="token operator">|</span>  <span class="token number">3000</span> <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> lisi     <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">20200411</span> <span class="token operator">|</span>   <span class="token number">200</span> <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> test3    <span class="token operator">|</span> <span class="token number">000000</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">20210411</span> <span class="token operator">|</span>   <span class="token number">200</span> <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>   <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> <span class="token number">111111</span>   <span class="token operator">|</span> <span class="token number">1659149215839</span> <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span>  <span class="token number">20180411</span> <span class="token operator">|</span>  <span class="token number">1400</span> <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+---------------+----+-----------+-------+------+-----+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-4-2-\u4FEE\u6539user\u5B9E\u4F53" tabindex="-1"><a class="header-anchor" href="#_1-4-2-\u4FEE\u6539user\u5B9E\u4F53" aria-hidden="true">#</a> 1.4.2 \u4FEE\u6539User\u5B9E\u4F53</h4><p>\u9700\u8981\u5728User\u7684\u5B9E\u4F53\u7C7B\uFF0C\u6DFB\u52A0Order\u7684\u5B9E\u4F53\u7C7B\uFF0C\u91CD\u5199toString\u7684\u65B9\u6CD5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> birthday<span class="token punctuation">;</span>

    <span class="token comment">// \u63CF\u8FF0\u662F\u5F53\u524D\u7528\u6237\u5B58\u5728\u54EA\u4E9B\u8BA2\u5355</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> orderList<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-4-3-usermapper\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_1-4-3-usermapper\u914D\u7F6E" aria-hidden="true">#</a> 1.4.3 UserMapper\u914D\u7F6E</h4><p>1.\u521B\u5EFAUserMapper\u63A5\u53E3</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.\u914D\u7F6EUserMaper.xml\u7684\u914D\u7F6E\u6587\u4EF6</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.dao.UserMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birthday<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birthday<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--\u914D\u7F6E\u96C6\u5408\u4FE1\u606F
            property: \u96C6\u5408\u540D\u79F0
            ofType: \u5F53\u524D\u96C6\u5408\u4E2D\u7684\u6570\u636E\u7C7B\u578B
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orderList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>order<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ordertime<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ordertime<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!--\u6570\u636E\u5E93\u4E00\u5BF9\u591A\u7684\u67E5\u8BE2--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select *,o.id oid from  user u,orders o where u.id=o.uuid
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-4-4-\u6D4B\u8BD5\u7ED3\u679C" tabindex="-1"><a class="header-anchor" href="#_1-4-4-\u6D4B\u8BD5\u7ED3\u679C" aria-hidden="true">#</a> 1.4.4 \u6D4B\u8BD5\u7ED3\u679C</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>	<span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">User</span> user <span class="token operator">:</span> userList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220730153834287.png" alt="image-20220730153834287" loading="lazy"></p><h3 id="_1-5-\u591A\u5BF9\u591A\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_1-5-\u591A\u5BF9\u591A\u67E5\u8BE2" aria-hidden="true">#</a> 1.5 \u591A\u5BF9\u591A\u67E5\u8BE2</h3><p><strong>\u591A\u5BF9\u591A\u67E5\u8BE2\u7684\u6A21\u578B</strong></p><p>\u7528\u6237\u8868\u548C\u89D2\u8272\u8868\u7684\u5173\u7CFB\u4E3A\uFF0C\u4E00\u4E2A\u7528\u6237\u6709\u591A\u4E2A\u89D2\u8272\uFF0C\u4E00\u4E2A\u89D2\u8272\u88AB\u591A\u4E2A\u7528\u6237\u4F7F\u7528</p><p>\u591A\u5BF9\u591A\u67E5\u8BE2\u7684\u9700\u6C42\uFF1A\u67E5\u8BE2\u7528\u6237\u540C\u65F6\u67E5\u8BE2\u51FA\u8BE5\u7528\u6237\u7684\u6240\u6709\u89D2\u8272</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220730154003218.png" alt="image-20220730154003218" loading="lazy"></p><h4 id="_1-5-1-\u591A\u5BF9\u591A\u67E5\u8BE2\u7684\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#_1-5-1-\u591A\u5BF9\u591A\u67E5\u8BE2\u7684\u8BED\u53E5" aria-hidden="true">#</a> 1.5.1 \u591A\u5BF9\u591A\u67E5\u8BE2\u7684\u8BED\u53E5</h4><p>\u5BF9\u5E94\u7684sql\u8BED\u53E5\uFF1A <code>select * from user u,user_role ur,role r where u.id=ur.userId and r.id = ur.roleId;</code></p><p>\u67E5\u8BE2\u7ED3\u679C\u5982\u4E0B</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span> u<span class="token punctuation">,</span>user_role ur<span class="token punctuation">,</span>role r <span class="token keyword">where</span> u<span class="token punctuation">.</span>id<span class="token operator">=</span>ur<span class="token punctuation">.</span>userId <span class="token operator">and</span> r<span class="token punctuation">.</span>id <span class="token operator">=</span> ur<span class="token punctuation">.</span>roleId<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+---------------+--------+--------+----+----------+--------------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span> birthday      <span class="token operator">|</span> userId <span class="token operator">|</span> roleId <span class="token operator">|</span> id <span class="token operator">|</span> roleName <span class="token operator">|</span> roleDesc                 <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+---------------+--------+--------+----+----------+--------------------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> zhangsan <span class="token operator">|</span> <span class="token number">000000</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>      <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> \u4E70\u5BB6     <span class="token operator">|</span> \u8D1F\u8D23\u4E70\u5546\u54C1\u7684\u987E\u5BA2         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> lisi     <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> \u5546\u5BB6     <span class="token operator">|</span> \u8D1F\u8D23\u5356\u5546\u54C1\u7684\u5546\u5BB6         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> <span class="token number">111111</span>   <span class="token operator">|</span> <span class="token number">1659149215839</span> <span class="token operator">|</span>      <span class="token number">3</span> <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> \u5546\u5BB6     <span class="token operator">|</span> \u8D1F\u8D23\u5356\u5546\u54C1\u7684\u5546\u5BB6         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> test3    <span class="token operator">|</span> <span class="token number">000000</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token number">4</span> <span class="token operator">|</span>      <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> \u4E70\u5BB6     <span class="token operator">|</span> \u8D1F\u8D23\u4E70\u5546\u54C1\u7684\u987E\u5BA2         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> test4    <span class="token operator">|</span> <span class="token number">000000</span>   <span class="token operator">|</span>          <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token number">5</span> <span class="token operator">|</span>      <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> \u4E70\u5BB6     <span class="token operator">|</span> \u8D1F\u8D23\u4E70\u5546\u54C1\u7684\u987E\u5BA2         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+---------------+--------+--------+----+----------+--------------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-5-2-\u4FEE\u6539role\u548Cuser\u5B9E\u4F53" tabindex="-1"><a class="header-anchor" href="#_1-5-2-\u4FEE\u6539role\u548Cuser\u5B9E\u4F53" aria-hidden="true">#</a> 1.5.2 \u4FEE\u6539Role\u548CUser\u5B9E\u4F53</h4><p>Role\u7684\u5B9E\u4F53\u521B\u5EFA\u597D\u4E86\uFF0C\u4E0D\u9700\u8981\u4FEE\u6539\u53EA\u9700\u8981\u4FEE\u6539User\u7684\u5B9E\u4F53\uFF0C\u91CD\u5199toString</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> birthday<span class="token punctuation">;</span>

    <span class="token comment">// \u63CF\u8FF0\u662F\u5F53\u524D\u7528\u6237\u5B58\u5728\u54EA\u4E9B\u8BA2\u5355</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> orderList<span class="token punctuation">;</span>
    
    <span class="token comment">// \u63CF\u8FF0\u7684\u662F\u5F53\u524D\u7528\u6237\u5B58\u5728\u54EA\u4E9B\u89D2\u8272</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> roleList<span class="token punctuation">;</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-5-3-usermapper\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_1-5-3-usermapper\u914D\u7F6E" aria-hidden="true">#</a> 1.5.3 UserMapper\u914D\u7F6E</h4><p>1.\u6DFB\u52A0\u65B9\u6CD5\u5230UserMapper\u63A5\u53E3</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findUserAndRoleAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.\u914D\u7F6EUserMapper.xml\u914D\u7F6E\u6587\u4EF6</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>	 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userRoleMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--user\u7684\u4FE1\u606F--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birthday<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birthday<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--user\u5185\u90E8\u7684roleList\u4FE1\u606F--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roleList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>role<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roleId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roleName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roleName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roleDesc<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roleDesc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findUserAndRoleAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userRoleMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from user u,user_role ur,role r where u.id=ur.userId and r.id = ur.roleId
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-5-4-\u6D4B\u8BD5\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#_1-5-4-\u6D4B\u8BD5\u4EE3\u7801" aria-hidden="true">#</a> 1.5.4 \u6D4B\u8BD5\u4EE3\u7801</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>	<span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test6</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userAndRolAll <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">findUserAndRoleAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">User</span> user <span class="token operator">:</span> userAndRolAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220730155123871.png" alt="image-20220730155123871" loading="lazy"></p>`,84),o=[e];function l(c,u){return n(),a("div",null,o)}const k=s(p,[["render",l],["__file","12.Mybatis\u591A\u8868\u67E5\u8BE2.html.vue"]]);export{k as default};
