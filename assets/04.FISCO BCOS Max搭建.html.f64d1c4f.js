import{_ as o}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as t,c as l,a as s,b as a,d as e,f as p,r as i}from"./app.ca0279c0.js";const c={},r=s("h1",{id:"fisco-bcos-max\u7248\u672C",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#fisco-bcos-max\u7248\u672C","aria-hidden":"true"},"#"),a(" FISCO BCOS Max\u7248\u672C")],-1),u=s("h2",{id:"\u7248\u672C\u8BF4\u660E",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u7248\u672C\u8BF4\u660E","aria-hidden":"true"},"#"),a(" \u7248\u672C\u8BF4\u660E")],-1),d=s("p",null,[a("\u4E3A\u4E86\u80FD\u591F\u652F\u6491\u6D77\u91CF\u4EA4\u6613\u4E0A\u94FE\u573A\u666F\uFF0Cv3.0.0\u63A8\u51FA\u4E86Max\u7248\u672CFISCO BCOS\uFF0C"),s("code",null,"Max\u7248\u672CFISCO BCOS\u65E8\u5728\u63D0\u4F9B\u6D77\u91CF\u5B58\u50A8\u670D\u52A1\u3001\u9AD8\u6027\u80FD\u53EF\u6269\u5C55\u7684\u6267\u884C\u6A21\u5757\u3001\u9AD8\u53EF\u7528\u7684\u6545\u969C\u6062\u590D\u673A\u5236"),a("\u3002 Max\u7248FISCO BCOS\u8282\u70B9\u91C7\u7528\u5206\u5E03\u5F0F\u5B58\u50A8TiKV\uFF0C\u6267\u884C\u6A21\u5757\u72EC\u7ACB\u6210\u670D\u52A1\uFF0C\u5B58\u50A8\u548C\u6267\u884C\u5747\u53EF\u6A2A\u5411\u6269\u5C55\uFF0C\u4E14\u652F\u6301\u81EA\u52A8\u5316\u4E3B\u5907\u6062\u590D\u3002")],-1),k=s("code",null,"BcosBuilder/max",-1),v={href:"https://fisco-bcos-doc.readthedocs.io/zh_CN/latest/docs/tutorial/max/max_builder.html",target:"_blank",rel:"noopener noreferrer"},b={href:"https://doc.tarsyun.com/#/markdown/TarsCloud/TarsDocs/installation/README.md",target:"_blank",rel:"noopener noreferrer"},m=s("li",null,[a("\u672C\u7AE0\u57FA\u4E8EDocker\u642D\u5EFAtars\u670D\u52A1\uFF0C\u8BF7\u786E\u4FDD\u62E5\u6709 "),s("code",null,"root"),a(" \u6743\u9650")],-1),$={href:"https://tikv.org/docs/5.1/deploy/install/install/",target:"_blank",rel:"noopener noreferrer"},_=p(`<h2 id="_1-ubuntu20-04\u73AF\u5883\u642D\u5EFA" tabindex="-1"><a class="header-anchor" href="#_1-ubuntu20-04\u73AF\u5883\u642D\u5EFA" aria-hidden="true">#</a> 1.Ubuntu20.04\u73AF\u5883\u642D\u5EFA</h2><blockquote><p>\u6CE8\u610F\uFF1A</p></blockquote><p>\u6309\u7167 <code>FISCO BCOS Pro\u7248\u672C</code> \u642D\u5EFA\u7684\u73AF\u5883\uFF0C\u5B89\u88C5\u57FA\u7840\u7684\u4F9D\u8D56\u5305\u548C<code>BcosBuilder</code>\u5DE5\u5177\uFF0C\u642D\u5EFA\u5B8C<code>Tars</code>\u670D\u52A1\u5373\u53EF\u3002</p><h3 id="_1-1-\u642D\u5EFAtars\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#_1-1-\u642D\u5EFAtars\u670D\u52A1" aria-hidden="true">#</a> 1.1 \u642D\u5EFATars\u670D\u52A1</h3><p>\u7565\u8FC7</p><h3 id="_1-2-\u642D\u5EFAtiup\u5355\u673A" tabindex="-1"><a class="header-anchor" href="#_1-2-\u642D\u5EFAtiup\u5355\u673A" aria-hidden="true">#</a> 1.2 \u642D\u5EFATiUP\u5355\u673A</h3><p>1.\u901A\u8FC7\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u5B89\u88C5 TiUP</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> <span class="token parameter variable">--proto</span> <span class="token string">&#39;=https&#39;</span> <span class="token parameter variable">--tlsv1.2</span> <span class="token parameter variable">-sSf</span> https://tiup-mirrors.pingcap.com/install.sh <span class="token operator">|</span> <span class="token function">sh</span>
<span class="token comment"># 1.\u8BBE\u7F6E TiUP \u73AF\u5883\u53D8\u91CF\u3001\u91CD\u65B0\u58F0\u660E\u5168\u5C40\u73AF\u5883\u53D8\u91CF\uFF1A</span>
$ <span class="token builtin class-name">source</span> .bashrc
<span class="token comment"># 2.\u786E\u8BA4\u662F\u5426\u5B89\u88C5\u4E86 TiUP\uFF1A</span>
$ tiup
<span class="token comment"># 3.\u5C06 TiUP \u6E38\u4E50\u573A\u7EC4\u4EF6\u66F4\u65B0\u5230\u6700\u65B0\u7248\u672C\uFF1A</span>
$ tiup update <span class="token parameter variable">--self</span> <span class="token operator">&amp;&amp;</span> tiup update playground
<span class="token comment"># 4.\u663E\u793A TiUP \u7248\u672C\uFF1A</span>
$ tiup <span class="token parameter variable">-v</span>
<span class="token comment"># 5.\u7248\u672C &gt;= 1.5.2\uFF1A</span>
$ tiup playground <span class="token parameter variable">--mode</span> tikv-slim
<span class="token comment"># 6.\u7248\u672C &lt; 1.5.2\uFF1A</span>
$ tiup playground
<span class="token comment"># 7.host\u662F\u672C\u673A\u7684ip\u5730\u5740</span>
$ <span class="token function">nohup</span> tiup playground v5.4.0 <span class="token parameter variable">--mode</span> tikv-slim <span class="token parameter variable">--host</span><span class="token operator">=</span><span class="token number">192.168</span>.0.138 <span class="token parameter variable">-T</span> tikv_demo --without-monitor <span class="token operator">&gt;</span> ~/tikv.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>

<span class="token comment"># 8.\u83B7\u53D6tikv\u76D1\u542C\u7AEF\u53E3(tikv\u7684\u9ED8\u8BA4\u76D1\u542C\u7AEF\u53E3\u662F2379)</span>
$ <span class="token function">cat</span> ~/tikv.log
tiup is checking updates <span class="token keyword">for</span> component playground <span class="token punctuation">..</span>.timeout<span class="token operator">!</span>
Starting component <span class="token variable"><span class="token variable">\`</span>playground<span class="token variable">\`</span></span><span class="token builtin class-name">:</span> /home/fisco/.tiup/components/playground/v1.9.4/tiup-playground v5.4.0 <span class="token parameter variable">--mode</span> tikv-slim <span class="token parameter variable">--host</span><span class="token operator">=</span><span class="token number">172.25</span>.0.3 <span class="token parameter variable">-T</span> tikv_demo --without-monitor
Playground Bootstrapping<span class="token punctuation">..</span>.
Start pd instance:v5.4.0
Start tikv instance:v5.4.0
PD client endpoints: <span class="token punctuation">[</span><span class="token number">172.25</span>.0.3:2379<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-\u5355\u673A\u90E8\u7F72tikv\u96C6\u7FA4" tabindex="-1"><a class="header-anchor" href="#_1-3-\u5355\u673A\u90E8\u7F72tikv\u96C6\u7FA4" aria-hidden="true">#</a> 1.3 \u5355\u673A\u90E8\u7F72TiKV\u96C6\u7FA4</h3><p><code>\u6B64\u5904\u662F\u6269\u5C55\uFF0C\u53EF\u4EE5\u4E0D\u505A</code></p><p>1.\u4E0B\u8F7D\u5B98\u65B9\u4E8C\u8FDB\u5236\u5305</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u4E0B\u8F7D\u5B98\u65B9\u7684\u538B\u7F29\u5305</span>
$ <span class="token function">wget</span> https://download.pingcap.org/tidb-latest-linux-amd64.tar.gz
$ <span class="token function">wget</span> http://download.pingcap.org/tidb-latest-linux-amd64.sha256

<span class="token comment"># \u68C0\u67E5sha256\u7684\u52A0\u5BC6</span>
$ sha256sum <span class="token parameter variable">-c</span> tidb-latest-linux-amd64.sha256

<span class="token comment"># \u89E3\u538B\u5B89\u88C5\u5305</span>
$ <span class="token function">tar</span> <span class="token parameter variable">-xzf</span> tidb-latest-linux-amd64.tar.gz
$ <span class="token builtin class-name">cd</span> tidb-latest-linux-amd64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.\u542F\u52A8 PD</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ ./bin/pd-server <span class="token parameter variable">--name</span><span class="token operator">=</span>pd1 <span class="token punctuation">\\</span>
                --data-dir<span class="token operator">=</span>pd1 <span class="token punctuation">\\</span>
                --client-urls<span class="token operator">=</span><span class="token string">&quot;http://127.0.0.1:2379&quot;</span> <span class="token punctuation">\\</span>
                --peer-urls<span class="token operator">=</span><span class="token string">&quot;http://127.0.0.1:2380&quot;</span> <span class="token punctuation">\\</span>
                --initial-cluster<span class="token operator">=</span><span class="token string">&quot;pd1=http://127.0.0.1:2380&quot;</span> <span class="token punctuation">\\</span>
                --log-file<span class="token operator">=</span>pd1.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.\u542F\u52A8TiKV</p><p>\u8981\u542F\u52A8 3 \u4E2A TiKV \u5B9E\u4F8B\uFF0C\u8BF7\u6253\u5F00\u4E00\u4E2A\u65B0\u7684\u7EC8\u7AEF\u9009\u9879\u5361\u6216\u7A97\u53E3\uFF0C\u8FDB\u5165<code>tidb-latest-linux-amd64</code>\u76EE\u5F55\uFF0C\u7136\u540E\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u542F\u52A8\u5B9E\u4F8B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ ./bin/tikv-server --pd-endpoints<span class="token operator">=</span><span class="token string">&quot;127.0.0.1:2379&quot;</span> <span class="token punctuation">\\</span>
                <span class="token parameter variable">--addr</span><span class="token operator">=</span><span class="token string">&quot;127.0.0.1:20160&quot;</span> <span class="token punctuation">\\</span>
                --data-dir<span class="token operator">=</span>tikv1 <span class="token punctuation">\\</span>
                --log-file<span class="token operator">=</span>tikv1.log

$ ./bin/tikv-server --pd-endpoints<span class="token operator">=</span><span class="token string">&quot;127.0.0.1:2379&quot;</span> <span class="token punctuation">\\</span>
                <span class="token parameter variable">--addr</span><span class="token operator">=</span><span class="token string">&quot;127.0.0.1:20161&quot;</span> <span class="token punctuation">\\</span>
                --data-dir<span class="token operator">=</span>tikv2 <span class="token punctuation">\\</span>
                --log-file<span class="token operator">=</span>tikv2.log

$ ./bin/tikv-server --pd-endpoints<span class="token operator">=</span><span class="token string">&quot;127.0.0.1:2379&quot;</span> <span class="token punctuation">\\</span>
                <span class="token parameter variable">--addr</span><span class="token operator">=</span><span class="token string">&quot;127.0.0.1:20162&quot;</span> <span class="token punctuation">\\</span>
                --data-dir<span class="token operator">=</span>tikv3 <span class="token punctuation">\\</span>
                --log-file<span class="token operator">=</span>tikv3.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17),g={href:"https://github.com/pingcap/pd/tree/master/tools/pd-ctl",target:"_blank",rel:"noopener noreferrer"},h=p(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ ./bin/pd-ctl store <span class="token parameter variable">-d</span> <span class="token parameter variable">-u</span> http://127.0.0.1:2379
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-4-\u90E8\u7F72max\u7248\u672C\u533A\u5757\u94FE\u7CFB\u7EDF" tabindex="-1"><a class="header-anchor" href="#_1-4-\u90E8\u7F72max\u7248\u672C\u533A\u5757\u94FE\u7CFB\u7EDF" aria-hidden="true">#</a> 1.4 \u90E8\u7F72Max\u7248\u672C\u533A\u5757\u94FE\u7CFB\u7EDF</h3><p>Max\u7248\u672CFISCO BCOS\u5305\u62ECRPC\u670D\u52A1\u3001Gateway\u670D\u52A1\u3001\u533A\u5757\u94FE\u8282\u70B9\u670D\u52A1<code>BcosMaxNodeService</code>\u4EE5\u53CA\u533A\u5757\u94FE\u6267\u884C\u670D\u52A1<code>BcosExecutorService</code>:</p><ul><li>RPC\u670D\u52A1\uFF1A\u8D1F\u8D23\u63A5\u6536\u5BA2\u6237\u7AEF\u8BF7\u6C42\uFF0C\u5E76\u5C06\u8BF7\u6C42\u8F6C\u53D1\u5230\u8282\u70B9\u8FDB\u884C\u5904\u7406\uFF0C RPC\u670D\u52A1\u53EF\u6A2A\u5411\u6269\u5C55\uFF0C\u4E00\u4E2ARPC\u670D\u52A1\u53EF\u63A5\u5165\u591A\u4E2A\u533A\u5757\u94FE\u8282\u70B9\u670D\u52A1;</li><li>Gateway\u670D\u52A1\uFF1A\u8D1F\u8D23\u8DE8\u673A\u6784\u533A\u5757\u94FE\u8282\u70B9\u4E4B\u95F4\u7684\u7F51\u7EDC\u901A\u4FE1\uFF0CGateway\u670D\u52A1\u6A2A\u5411\u53EF\u6269\u5C55\uFF0C\u4E00\u4E2AGateway\u670D\u52A1\u53EF\u63A5\u5165\u591A\u4E2A\u533A\u5757\u94FE\u8282\u70B9\u670D\u52A1;</li><li>\u533A\u5757\u94FE\u8282\u70B9\u670D\u52A1<code>BcosMaxNodeService</code>\uFF1A\u8D1F\u8D23\u63D0\u4F9B\u533A\u5757\u94FE\u8C03\u5EA6\u76F8\u5173\u7684\u670D\u52A1\uFF0C\u5305\u62EC\u533A\u5757\u6253\u5305\u3001\u5171\u8BC6\u3001\u6267\u884C\u8C03\u5EA6\u3001\u63D0\u4EA4\u8C03\u5EA6\u7B49\uFF0C\u8282\u70B9\u670D\u52A1\u901A\u8FC7\u63A5\u5165\u5230RPC\u670D\u52A1\u548CGateway\u670D\u52A1\u83B7\u53D6\u7F51\u7EDC\u901A\u4FE1\u529F\u80FD;</li><li>\u533A\u5757\u94FE\u6267\u884C\u670D\u52A1<code>BcosExecutorService</code>\uFF1A\u8D1F\u8D23\u533A\u5757\u6267\u884C\uFF0C\u53EF\u6A2A\u5411\u6269\u5C55\u3001\u52A8\u6001\u6269\u5BB9\u3002</li></ul><p>1.\u4E0B\u8F7D\u4E8C\u8FDB\u5236\u5B89\u88C5\u5305\uFF0C\u7136\u540E\u89E3\u538B\u5B89\u88C5\u4F9D\u8D56\uFF0C\u914D\u7F6E\u914D\u7F6E\u6587\u4EF6\u76F4\u63A5\u542F\u52A8\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -<span class="token comment">#LO https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/FISCO-BCOS/FISCO-BCOS/releases/v3.0.0/BcosBuilder.tgz &amp;&amp; tar -xvf BcosBuilder.tgz</span>

<span class="token comment"># 1.\u5B89\u88C5\u6784\u5EFA\u5DE5\u5177\u4F9D\u8D56\u5305</span>
$ <span class="token builtin class-name">cd</span> BcosBuilder <span class="token operator">&amp;&amp;</span> pip3 <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt
<span class="token comment"># 2.\u8FD0\u884Cbuild_chain.py\u811A\u672C\u4E0B\u8F7D\u4E8C\u8FDB\u5236\uFF0C\u4E8C\u8FDB\u5236\u5305\u9ED8\u8BA4\u4E0B\u8F7D\u5230binary\u76EE\u5F55</span>
$ python3 build_chain.py download_binary <span class="token parameter variable">-t</span> cdn
<span class="token comment"># 3.\u4ECEconf\u76EE\u5F55\u62F7\u8D1D\u914D\u7F6E</span>
<span class="token function">cp</span> conf/config-deploy-example.toml conf/config.toml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.\u5F53\u524D\u7684\u914D\u7F6E\u6587\u4EF6\u5982\u4E0B</p><p>\u9700\u8981\u5C062379\u7AEF\u53E3\u7684\u539F\u6765\u7684IP\u5730\u5740\u4FEE\u6539\u4E3A\u672C\u673A\u7684IP\u5730\u5740\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>tars<span class="token punctuation">]</span>
tars_url <span class="token operator">=</span> <span class="token string">&quot;http://127.0.0.1:3000&quot;</span>
tars_token <span class="token operator">=</span> <span class="token string">&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiJhZG1pbiIsImlhdCI6MTY2MjI5OTE2MywiZXhwIjoxNzM1NjUyNzYzfQ.p4NtwV9rJx2NIPJ3B93nuuwSB5psnHg9nJBNL0bjmjY&quot;</span>
tars_pkg_dir <span class="token operator">=</span> <span class="token string">&quot;binary/&quot;</span>

<span class="token punctuation">[</span>chain<span class="token punctuation">]</span>
<span class="token assign-left variable">chain_id</span><span class="token operator">=</span><span class="token string">&quot;chain0&quot;</span>
<span class="token comment"># the rpc-service enable sm-ssl or not, default disable sm-ssl</span>
<span class="token assign-left variable">rpc_sm_ssl</span><span class="token operator">=</span>false
<span class="token comment"># the gateway-service enable sm-ssl or not, default disable sm-ssm</span>
<span class="token assign-left variable">gateway_sm_ssl</span><span class="token operator">=</span>false
<span class="token comment"># the existed rpc service ca path, will generate new ca if not configured</span>
<span class="token comment">#rpc_ca_cert_path=&quot;&quot;</span>
<span class="token comment"># the existed gateway service ca path, will generate new ca if not configured</span>
<span class="token comment">#gateway_ca_cert_path=&quot;&quot;</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span>group<span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token assign-left variable">group_id</span><span class="token operator">=</span><span class="token string">&quot;group0&quot;</span>
<span class="token comment"># the genesis configuration path of the group, will generate new genesis configuration if not configured</span>
<span class="token comment"># genesis_config_path = &quot;&quot;</span>
<span class="token comment"># VM type, now only support evm/wasm</span>
<span class="token assign-left variable">vm_type</span><span class="token operator">=</span><span class="token string">&quot;evm&quot;</span>
<span class="token comment"># use sm-crypto or not</span>
<span class="token assign-left variable">sm_crypto</span><span class="token operator">=</span>false
<span class="token comment"># enable auth-check or not</span>
<span class="token assign-left variable">auth_check</span><span class="token operator">=</span>false
<span class="token assign-left variable">init_auth_address</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>

<span class="token comment"># the genesis config</span>
<span class="token comment"># the number of blocks generated by each leader</span>
leader_period <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment"># the max number of transactions of a block</span>
block_tx_count_limit <span class="token operator">=</span> <span class="token number">1000</span>
<span class="token comment"># consensus algorithm now support PBFT(consensus_type=pbft)</span>
consensus_type <span class="token operator">=</span> <span class="token string">&quot;pbft&quot;</span>
<span class="token comment"># transaction gas limit</span>
gas_limit <span class="token operator">=</span> <span class="token string">&quot;3000000000&quot;</span>
<span class="token comment"># compatible version, can be dynamically upgraded through setSystemConfig</span>
<span class="token comment"># the default is 3.0.0-rc4</span>
<span class="token assign-left variable">compatibility_version</span><span class="token operator">=</span><span class="token string">&quot;3.0.0&quot;</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span>agency<span class="token punctuation">]</span><span class="token punctuation">]</span>
name <span class="token operator">=</span> <span class="token string">&quot;agencyA&quot;</span>
<span class="token comment"># \u4FEE\u6539\u4E00\u4E0B\u8FD9\u91CC\u7684IP\u5730\u5740</span>
failover_cluster_url <span class="token operator">=</span> <span class="token string">&quot;192.168.0.138:2379&quot;</span>
<span class="token comment"># enable data disk encryption for rpc/gateway or not, default is false</span>
enable_storage_security <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token comment"># url of the key center, in format of ip:port, please refer to https://github.com/FISCO-BCOS/key-manager for details</span>
<span class="token comment"># key_center_url =</span>
<span class="token comment"># cipher_data_key =</span>

    <span class="token punctuation">[</span>agency.rpc<span class="token punctuation">]</span>
    <span class="token assign-left variable">deploy_ip</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;172.25.0.3&quot;</span><span class="token punctuation">]</span>
    <span class="token assign-left variable">listen_ip</span><span class="token operator">=</span><span class="token string">&quot;0.0.0.0&quot;</span>
    <span class="token assign-left variable">listen_port</span><span class="token operator">=</span><span class="token number">20200</span>
    <span class="token assign-left variable">thread_count</span><span class="token operator">=</span><span class="token number">4</span>

    <span class="token punctuation">[</span>agency.gateway<span class="token punctuation">]</span>
    <span class="token assign-left variable">deploy_ip</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;172.25.0.3&quot;</span><span class="token punctuation">]</span>
    <span class="token assign-left variable">listen_ip</span><span class="token operator">=</span><span class="token string">&quot;0.0.0.0&quot;</span>
    <span class="token assign-left variable">listen_port</span><span class="token operator">=</span><span class="token number">30300</span>
    <span class="token assign-left variable">peers</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;172.25.0.3:30300&quot;</span><span class="token punctuation">]</span>

    <span class="token punctuation">[</span><span class="token punctuation">[</span>agency.group<span class="token punctuation">]</span><span class="token punctuation">]</span>
        group_id <span class="token operator">=</span> <span class="token string">&quot;group0&quot;</span>

        <span class="token punctuation">[</span><span class="token punctuation">[</span>agency.group.node<span class="token punctuation">]</span><span class="token punctuation">]</span>
        node_name <span class="token operator">=</span> <span class="token string">&quot;node0&quot;</span>
        <span class="token comment"># \u4FEE\u6539\u4E00\u4E0B\u8FD9\u91CC\u7684IP\u5730\u5740</span>
        <span class="token assign-left variable">pd_addrs</span><span class="token operator">=</span><span class="token string">&quot;192.168.0.138:2379&quot;</span>
        <span class="token assign-left variable">key_page_size</span><span class="token operator">=</span><span class="token number">10240</span>
        deploy_ip <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;172.25.0.3&quot;</span><span class="token punctuation">]</span>
        <span class="token assign-left variable">executor_deploy_ip</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;172.25.0.3&quot;</span><span class="token punctuation">]</span>
        monitor_listen_port <span class="token operator">=</span> <span class="token string">&quot;3901&quot;</span>
        <span class="token comment"># the tikv storage pd-addresses</span>
        <span class="token comment"># monitor log path example:&quot;/home/fisco/tars/framework/app_log/&quot;</span>
        monitor_log_path <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.\u7136\u540E\u7528\u4F60\u6700\u5FEB\u7684\u901F\u5EA6\u90E8\u7F72Rpc\u670D\u52A1\u3001Gateway\u670D\u52A1\u3001Node\u670D\u52A1\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> BcosBuilder/max 
$ python3 build_chain.py chain <span class="token parameter variable">-o</span> deploy <span class="token parameter variable">-t</span> rpc
$ python3 build_chain.py chain <span class="token parameter variable">-o</span> deploy <span class="token parameter variable">-t</span> gateway
$ python3 build_chain.py chain <span class="token parameter variable">-o</span> deploy <span class="token parameter variable">-t</span> <span class="token function">node</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-5-\u914D\u7F6E\u63A7\u5236\u53F0" tabindex="-1"><a class="header-anchor" href="#_1-5-\u914D\u7F6E\u63A7\u5236\u53F0" aria-hidden="true">#</a> 1.5 \u914D\u7F6E\u63A7\u5236\u53F0</h3><p>1.\u8BB0\u5F97\u5B89\u88C5Java\u7684jdk\u73AF\u5883\u3002\u7136\u540E\u914D\u7F6E\u63A7\u5236\u53F0\u7684\u8BC1\u4E66</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> default-jdk
$ <span class="token builtin class-name">cd</span> ~/fisco <span class="token operator">&amp;&amp;</span> <span class="token function">curl</span> -<span class="token comment">#LO https://gitee.com/FISCO-BCOS/console/raw/master/tools/download_console.sh &amp;&amp; bash download_console.sh</span>

<span class="token comment"># 1.\u6700\u65B0\u7248\u672C\u63A7\u5236\u53F0\u4F7F\u7528\u5982\u4E0B\u547D\u4EE4\u62F7\u8D1D\u914D\u7F6E\u6587\u4EF6</span>
<span class="token function">cp</span> <span class="token parameter variable">-n</span> console/conf/config-example.toml console/conf/config.toml

<span class="token comment"># 2.\u53EF\u901A\u8FC7\u547D\u4EE4 find . -name sdk\u627E\u5230\u6240\u6709SDK\u8BC1\u4E66\u8DEF\u5F84</span>
<span class="token function">cp</span> <span class="token parameter variable">-r</span> ~/fisco/BcosBuilder/max/generated/rpc/chain0/agencyABcosRpcService/172.25.0.3/sdk/*  console/conf/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.\u542F\u52A8\u63A7\u5236\u53F0</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> ~/fisco/console <span class="token operator">&amp;&amp;</span> <span class="token function">bash</span> start.sh
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Welcome to FISCO BCOS console<span class="token punctuation">(</span><span class="token number">3.0</span>.0<span class="token punctuation">)</span><span class="token operator">!</span>
Type <span class="token string">&#39;help&#39;</span> or <span class="token string">&#39;h&#39;</span> <span class="token keyword">for</span> help. Type <span class="token string">&#39;quit&#39;</span> or <span class="token string">&#39;q&#39;</span> to quit console.
 ________ ______  ______   ______   ______       _______   ______   ______   ______
<span class="token operator">|</span>        <span class="token operator">|</span>      <span class="token punctuation">\\</span>/      <span class="token punctuation">\\</span> /      <span class="token punctuation">\\</span> /      <span class="token punctuation">\\</span>     <span class="token operator">|</span>       <span class="token punctuation">\\</span> /      <span class="token punctuation">\\</span> /      <span class="token punctuation">\\</span> /      <span class="token punctuation">\\</span>
<span class="token operator">|</span> <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token punctuation">\\</span><span class="token variable">$$</span><span class="token variable">$$</span>$<span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token punctuation">\\</span>    <span class="token operator">|</span> <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>$<span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token punctuation">\\</span>
<span class="token operator">|</span> <span class="token variable">$$</span>__     <span class="token operator">|</span> <span class="token variable">$$</span> <span class="token operator">|</span> <span class="token variable">$$</span>___<span class="token punctuation">\\</span>$<span class="token operator">|</span> <span class="token variable">$$</span>   <span class="token punctuation">\\</span>$<span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token operator">|</span> <span class="token variable">$$</span>    <span class="token operator">|</span> <span class="token variable">$$</span>__/ $<span class="token operator">|</span> <span class="token variable">$$</span>   <span class="token punctuation">\\</span>$<span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token operator">|</span> $<span class="token operator">|</span> <span class="token variable">$$</span>___<span class="token punctuation">\\</span><span class="token variable">$$</span>
<span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token punctuation">\\</span>    <span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token punctuation">\\</span><span class="token variable">$$</span>    <span class="token punctuation">\\</span><span class="token operator">|</span> <span class="token variable">$$</span>     <span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token operator">|</span> <span class="token variable">$$</span>    <span class="token operator">|</span> <span class="token variable">$$</span>    $<span class="token operator">|</span> <span class="token variable">$$</span>     <span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token operator">|</span> <span class="token variable">$$</span><span class="token punctuation">\\</span><span class="token variable">$$</span>    <span class="token punctuation">\\</span>
<span class="token operator">|</span> <span class="token variable">$$</span><span class="token variable">$$</span>$    <span class="token operator">|</span> <span class="token variable">$$</span>  _<span class="token punctuation">\\</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token operator">|</span> <span class="token variable">$$</span>   __<span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token operator">|</span> <span class="token variable">$$</span>    <span class="token operator">|</span> <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>$<span class="token operator">|</span> <span class="token variable">$$</span>   __<span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token operator">|</span> <span class="token variable">$$</span>_<span class="token punctuation">\\</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token punctuation">\\</span>
<span class="token operator">|</span> <span class="token variable">$$</span>      _<span class="token operator">|</span> <span class="token variable">$$</span>_<span class="token operator">|</span>  <span class="token punctuation">\\</span>__<span class="token operator">|</span> $<span class="token operator">|</span> <span class="token variable">$$</span>__/  <span class="token operator">|</span> <span class="token variable">$$</span>__/ <span class="token variable">$$</span>    <span class="token operator">|</span> <span class="token variable">$$</span>__/ $<span class="token operator">|</span> <span class="token variable">$$</span>__/  <span class="token operator">|</span> <span class="token variable">$$</span>__/ $<span class="token operator">|</span>  <span class="token punctuation">\\</span>__<span class="token operator">|</span> <span class="token variable">$$</span>
<span class="token operator">|</span> <span class="token variable">$$</span>     <span class="token operator">|</span>   <span class="token variable">$$</span> <span class="token punctuation">\\</span><span class="token punctuation">\\</span><span class="token variable">$$</span>    <span class="token variable">$$</span><span class="token punctuation">\\</span><span class="token variable">$$</span>    <span class="token variable">$$</span><span class="token punctuation">\\</span><span class="token variable">$$</span>    <span class="token variable">$$</span>    <span class="token operator">|</span> <span class="token variable">$$</span>    <span class="token variable">$$</span><span class="token punctuation">\\</span><span class="token variable">$$</span>    <span class="token variable">$$</span><span class="token punctuation">\\</span><span class="token variable">$$</span>    <span class="token variable">$$</span><span class="token punctuation">\\</span><span class="token variable">$$</span>    <span class="token variable">$$</span>
 <span class="token punctuation">\\</span><span class="token variable">$$</span>      <span class="token punctuation">\\</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span> <span class="token punctuation">\\</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>  <span class="token punctuation">\\</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>  <span class="token punctuation">\\</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>      <span class="token punctuation">\\</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>$  <span class="token punctuation">\\</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>  <span class="token punctuation">\\</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>  <span class="token punctuation">\\</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token punctuation">[</span>group0<span class="token punctuation">]</span>: /<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BBF\u95EE\u9A8C\u8BC1\uFF1A</p><p><img src="https://pic1.xuehuaimg.com/proxy/raw.githubusercontent.com/isicman/image/main/img/image-20220904225355456.png" alt="image-20220904225355456" loading="lazy"></p>`,18);function f(y,q){const n=i("ExternalLinkIcon");return t(),l("div",null,[r,u,d,s("ul",null,[s("li",null,[a("Max\u7248\u672CFISCO BCOS\u4F7F\u7528 "),k,a(" \u5DE5\u5177\u8FDB\u884C\u5EFA\u94FE\u548C\u6269\u5BB9\u7B49\u76F8\u5173\u64CD\u4F5C\uFF0C\u8BE5\u5DE5\u5177\u7684\u4ECB\u7ECD\u8BF7\u53C2\u8003 "),s("a",v,[a("BcosBuilder"),e(n)])]),s("li",null,[a("FISCO BCOS 3.x\u57FA\u4E8Etars\u8FDB\u884C\u5FAE\u670D\u52A1\u6784\u5EFA\u548C\u7BA1\u7406\uFF0C\u642D\u5EFAMax\u7248\u672CFISCO BCOS\u4E4B\u524D\uFF0C\u9700\u5148\u5B89\u88C5tars\u670D\u52A1\uFF0C\u672C\u7AE0\u4ECB\u7ECD\u4E86docker\u7248\u672Ctars\u670D\u52A1\u7684\u642D\u5EFA\u6D41\u7A0B\uFF0C\u82E5\u9700\u8981\u4E86\u89E3\u66F4\u591Atars\u90E8\u7F72\u3001\u6784\u5EFA\u76F8\u5173\u7684\u4FE1\u606F\uFF0C\u8BF7\u53C2\u8003 "),s("a",b,[a("\u8FD9\u91CC"),e(n)])]),m,s("li",null,[a("\u642D\u5EFAMax\u7248\u672CFISCO BCOS\u9700\u5148\u90E8\u7F72TiKV\u96C6\u7FA4\uFF0CTiKV\u96C6\u7FA4\u7684\u90E8\u7F72\u8BF7\u53C2\u8003 "),s("a",$,[a("\u8FD9\u91CC"),e(n)])])]),_,s("p",null,[a("\u53EF\u4EE5\u4F7F\u7528"),s("a",g,[a("pd-ctl"),e(n)]),a("\u5DE5\u5177\u9A8C\u8BC1 PD \u548C TiKV \u662F\u5426\u90E8\u7F72\u6210\u529F\uFF1A")]),h])}const B=o(c,[["render",f],["__file","04.FISCO BCOS Max\u642D\u5EFA.html.vue"]]);export{B as default};
