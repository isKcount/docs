import{_ as o}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as p,c as l,a as s,b as n,d as t,f as a,r as i}from"./app.ca0279c0.js";const c={},r=a('<h1 id="apache-php-mysql\u67B6\u6784" tabindex="-1"><a class="header-anchor" href="#apache-php-mysql\u67B6\u6784" aria-hidden="true">#</a> Apache+PHP+MySQL\u67B6\u6784</h1><h2 id="\u67B6\u6784\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u67B6\u6784\u4F7F\u7528" aria-hidden="true">#</a> \u67B6\u6784\u4F7F\u7528</h2><p>\u4F7F\u7528centos:centos7.5.1804\u955C\u50CF\u4E3A\u57FA\u7840\u955C\u50CF\uFF0C\u6784\u5EFAApache+PHP+MySQL\u67B6\u6784\u7684\u7F51\u9875\u8BBF\u95EE\u670D\u52A1php:latest\u6570\u636E\u5E93\u4F7F\u7528\u672C\u673A\u5B89\u88C5MariaDB\u73AF\u5883\uFF0C\u76F8\u5173\u6743\u9650\u8BF7\u81EA\u884C\u6388\u6743\uFF1B\u7F16\u8F91Dockerfile\u6240\u9700\u8981\u7684\u6587\u4EF6<code>build_table.sh\u3001run.sh\u3001test.php</code></p><h2 id="dockerfile\u7F16\u5199\u8981\u6C42\u4E3A" tabindex="-1"><a class="header-anchor" href="#dockerfile\u7F16\u5199\u8981\u6C42\u4E3A" aria-hidden="true">#</a> Dockerfile\u7F16\u5199\u8981\u6C42\u4E3A\uFF1A</h2>',4),d={href:"http://xn--run-vd0ij93c.sh",target:"_blank",rel:"noopener noreferrer"},u=a(`<p>\u4FDD\u8BC1master\u53EF\u4EE5\u4E0A\u5916\u7F51\uFF0C\u5B89\u88C5docker-ce\u7684\u73AF\u5883\uFF0C\u5229\u7528Dockerfile\u7F16\u6392\u5B8C\u6210\u5BB9\u5668\u7684web\u5C0F\u9875\u9762\u3002 \u672C\u673A\u5B89\u88C5Docker-ce\u7684\u73AF\u5883</p><h3 id="_1-\u5B89\u88C5\u9700\u8981\u7684\u8F6F\u4EF6\u5305" tabindex="-1"><a class="header-anchor" href="#_1-\u5B89\u88C5\u9700\u8981\u7684\u8F6F\u4EF6\u5305" aria-hidden="true">#</a> 1.\u5B89\u88C5\u9700\u8981\u7684\u8F6F\u4EF6\u5305</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils device-mapper-persistent-data lvm2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-\u4F7F\u7528\u963F\u91CC\u7684docker-ce\u6E90" tabindex="-1"><a class="header-anchor" href="#_2-\u4F7F\u7528\u963F\u91CC\u7684docker-ce\u6E90" aria-hidden="true">#</a> 2.\u4F7F\u7528\u963F\u91CC\u7684Docker-ce\u6E90</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ yum-config-manager --add-repo http://mirrors. aliyun. com/docker-ce/linux/centos/docker-ce.repo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-\u5B89\u88C5docker-ce" tabindex="-1"><a class="header-anchor" href="#_3-\u5B89\u88C5docker-ce" aria-hidden="true">#</a> 3.\u5B89\u88C5DOCKER CE</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ yum <span class="token parameter variable">-y</span> <span class="token function">install</span> docker-ce
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-\u914D\u7F6E\u955C\u50CF\u52A0\u901F" tabindex="-1"><a class="header-anchor" href="#_4-\u914D\u7F6E\u955C\u50CF\u52A0\u901F" aria-hidden="true">#</a> 4.\u914D\u7F6E\u955C\u50CF\u52A0\u901F</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">vi</span>    /etc/docker/daemon.json 
<span class="token punctuation">{</span>
<span class="token string">&quot;registry-mirrors&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;https://ably8t50.mirror.aliyuncs.com&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-\u91CD\u542F\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#_5-\u91CD\u542F\u670D\u52A1" aria-hidden="true">#</a> 5.\u91CD\u542F\u670D\u52A1</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ systemctl daemon-reload
$ systemctl restart <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-\u67E5\u770B\u5F53\u524D\u7684\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_6-\u67E5\u770B\u5F53\u524D\u7684\u955C\u50CF" aria-hidden="true">#</a> 6.\u67E5\u770B\u5F53\u524D\u7684\u955C\u50CF</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># docker images </span>
REPOSITORY   TAG              IMAGE ID       CREATED          SIZE
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u62C9\u53D6\u4E00\u4E2Acentos:centos7.5.1804\u955C\u50CF\u505A\u5B9E\u9A8C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># docker pull centos:centos7.5.1804</span>
centos7.5.1804: Pulling from library/centos
Digest: sha256:7a45e4a1efbaafc1d9aa89925b6fdb33288a96d35ea0581412316e2f0ad3720a
Status: Image is up to <span class="token function">date</span> <span class="token keyword">for</span> centos:centos7.5.1804
docker.io/library/centos:centos7.5.1804

<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># docker images </span>
REPOSITORY   TAG              IMAGE ID       CREATED          SIZE
centos       centos7.5.1804   cf49811e3cdb   <span class="token number">2</span> years ago      200MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-\u914D\u7F6E\u672C\u5730\u7684yum\u6E90" tabindex="-1"><a class="header-anchor" href="#_7-\u914D\u7F6E\u672C\u5730\u7684yum\u6E90" aria-hidden="true">#</a> 7.\u914D\u7F6E\u672C\u5730\u7684YUM\u6E90</h3><p>\u7136\u540E\u4F7F\u7528\u672C\u5730\u7684yum\u6E90\uFF0C1804\u7684iso\u52A0\u4E0ADocker\u7684\u6E90\u3002\uFF08\u4E0D\u9002\u7528\u5916\u6E90\uFF09</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment">#  mount /dev/sr0 /opt/</span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># mkdir /opt/centos</span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment">#  umonut /mnt</span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment">#  cat /etc/yum.repos.d/local.repo</span>
<span class="token punctuation">[</span>Docker<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>Docker
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>file:///opt/Docker
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token punctuation">[</span>centos<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>centos
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>file:///opt/centos
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-ftp\u6E90-\u6570\u636E\u5E93\u6388\u6743" tabindex="-1"><a class="header-anchor" href="#_8-ftp\u6E90-\u6570\u636E\u5E93\u6388\u6743" aria-hidden="true">#</a> 8.ftp\u6E90+\u6570\u636E\u5E93\u6388\u6743</h3><p>\u914D\u7F6Evsftpd\u5171\u4EABftp\u6E90\uFF0C\u914D\u7F6E\u672C\u5730\u6570\u636E\u5E93\uFF0C\u8BA9\u5BB9\u5668\u7684\u955C\u50CF\u4F7F\u7528\u672C\u673A\u7684\u6570\u636E\u5E93</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># yum install -y vsftpd</span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># echo anon_root=/opt &gt;&gt; /etc/vsftpd/vsftpd.conf </span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># systemctl restart  vsftpd </span>

<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># yum install -y mariadb-server</span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># systemctl start mairdb</span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># mysqladmin -uroot password 000000</span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># mysql -uroot </span>
MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>  grant all privileges  on *.* to root@<span class="token string">&#39;%&#39;</span> identified by <span class="token string">&quot;000000&quot;</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> grant replication slave on *.* to <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;localhost&#39;</span> identified by <span class="token string">&#39;000000&#39;</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-\u7F16\u5199dockerfile\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_9-\u7F16\u5199dockerfile\u6587\u4EF6" aria-hidden="true">#</a> 9.\u7F16\u5199Dockerfile\u6587\u4EF6</h3><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>[root@localhost ]# mkdir test  &amp;&amp; cd  test     
[root@localhost test]#  cat Dockerfile
<span class="token instruction"><span class="token keyword">FROM</span>  centos:centos7.5.1804</span>
<span class="token instruction"><span class="token keyword">MAINTAINER</span> xiandian</span>
<span class="token instruction"><span class="token keyword">RUN</span> rm -rvf  /etc/yum.repos.d/*</span>
<span class="token instruction"><span class="token keyword">ADD</span> ftp.repo /etc/yum.repos.d/</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /opt/</span>
<span class="token instruction"><span class="token keyword">RUN</span> yum install httpd php mariadb-server php-mysql -y</span>
<span class="token instruction"><span class="token keyword">RUN</span> sed -i  <span class="token string">&quot;s/#ServerName.*/ServerName localhost/&quot;</span> /etc/httpd/conf/httpd.conf</span>
<span class="token instruction"><span class="token keyword">RUN</span> mkdir -p /var/log/httpd</span>
<span class="token instruction"><span class="token keyword">RUN</span> mkdir -p /var/www/html</span>
<span class="token instruction"><span class="token keyword">ENV</span> MYSQL_ADDR 192.168.100.20</span>
<span class="token instruction"><span class="token keyword">ENV</span> MYSQL_USER root</span>
<span class="token instruction"><span class="token keyword">ENV</span> MYSQL_PASS 000000</span>
<span class="token instruction"><span class="token keyword">ENV</span> LC_ALL en_US.UTF-8</span>
<span class="token instruction"><span class="token keyword">ADD</span> test.php /var/www/html/test.php</span>
<span class="token instruction"><span class="token keyword">ADD</span> run.sh /opt/run.sh</span>
<span class="token instruction"><span class="token keyword">ADD</span> build_table.sh /opt/build_table.sh</span>
<span class="token instruction"><span class="token keyword">RUN</span> chmod +x /opt/run.sh</span>
<span class="token instruction"><span class="token keyword">RUN</span> chmod +x /opt/build_table.sh</span>
<span class="token instruction"><span class="token keyword">RUN</span> /bin/bash /opt/build_table.sh</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span>
<span class="token instruction"><span class="token keyword">CMD</span> /opt/run.sh</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-\u7F16\u5199ftp-repo\u6E90" tabindex="-1"><a class="header-anchor" href="#_10-\u7F16\u5199ftp-repo\u6E90" aria-hidden="true">#</a> 10.\u7F16\u5199ftp.repo\u6E90</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment">#  vi  ftp.repo   </span>

<span class="token punctuation">[</span>Docker<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>Docker
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>ftp://192.168.137.130/Docker
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token punctuation">[</span>centos<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>centos
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>ftp://192.168.137.130/centos
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11-\u4F7F\u7528\u63D0\u4F9B\u7684php\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_11-\u4F7F\u7528\u63D0\u4F9B\u7684php\u6587\u4EF6" aria-hidden="true">#</a> 11.\u4F7F\u7528\u63D0\u4F9B\u7684php\u6587\u4EF6</h3><p>\u8BE5php\u6587\u4EF6\u6709\u63D0\u4F9B</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># cat test.php</span>
<span class="token operator">&lt;</span>table border<span class="token operator">=</span><span class="token string single-quoted-string">&#39;1&#39;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span><span class="token constant">NAME</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span><span class="token constant">YEARS</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span><span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span><span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>xiandian<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token number">2018</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span><span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span><span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>xiandian<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token number">2019</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-\u7F16\u5199build-table-sh\u7684shell\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_12-\u7F16\u5199build-table-sh\u7684shell\u811A\u672C" aria-hidden="true">#</a> 12.\u7F16\u5199build_table.sh\u7684shell\u811A\u672C</h3><p>\u8BE5\u811A\u672C\u4E3B\u8981\u5C31\u662F\u7528\u6765\u521B\u5EFA\u6570\u636E\u5E93\u8868\u5355\u7136\u540E\u8F7D\u5165\u6570\u636E\uFF0C\u7528\u4E8E\u540E\u9762\u7684\u8868\u683C\u663E\u793A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># vi build_table.sh </span>

<span class="token comment">#!/bin/bash</span>
mysql -h<span class="token variable">$MYSQL_ADDR</span> -u<span class="token variable">$MYSQL_USER</span> -p<span class="token variable">$MYSQL_PASS</span>  <span class="token parameter variable">-e</span> <span class="token string">&quot;create database chinaskills;&quot;</span>
mysql -h<span class="token variable">$MYSQL_ADDR</span> -u<span class="token variable">$MYSQL_USER</span> -p<span class="token variable">$MYSQL_PASS</span>   <span class="token parameter variable">-e</span> <span class="token string">&quot;create table chinaskills.company(name char(20) not null,years int not
null)DEFAULT CHARSET=utf8;&quot;</span>
mysql -h<span class="token variable">$MYSQL_ADDR</span> -u<span class="token variable">$MYSQL_USER</span> -p<span class="token variable">$MYSQL_PASS</span>   <span class="token parameter variable">-e</span> <span class="token string">&quot;insert into chinaskills.company values(&#39;xiandian&#39;,2018),(&#39;xiandian&#39;,20
19);&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-\u7F16\u5199run-sh\u7684shell\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_13-\u7F16\u5199run-sh\u7684shell\u811A\u672C" aria-hidden="true">#</a> 13.\u7F16\u5199run.sh\u7684shell\u811A\u672C</h3><p>\u8BE5\u811A\u672C\u76EE\u7684\u662F\u7528\u6765\u542F\u52A8httpd\u670D\u52A1</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># vi run.sh</span>

<span class="token comment">#!/bin/bash</span>
httpd
<span class="token keyword">while</span> <span class="token boolean">true</span>
<span class="token keyword">do</span>
  <span class="token function">sleep</span> <span class="token number">1000</span>
<span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-\u6784\u5EFA\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_14-\u6784\u5EFA\u955C\u50CF" aria-hidden="true">#</a> 14.\u6784\u5EFA\u955C\u50CF</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># docker build -t php .</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,36),k={href:"http://IP/test.php",target:"_blank",rel:"noopener noreferrer"},v=a(`<p>\u67E5\u770B\u5F53\u524D\u7684\u955C\u50CF\u6784\u5EFA\u662F\u5426\u5B8C\u6210\uFF0C\u7136\u540E\u4F7F\u7528docker run\u7684\u547D\u4EE4\u542F\u52A8\u8BE5\u955C\u50CF\uFF0C\u6B64\u65F6\u4F1A\u53D1\u73B0curl\u53EF\u4EE5\u770B\u5230\u4E1C\u897F</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY   TAG              IMAGE ID       CREATED          SIZE
php          latest           324e99cb9105   <span class="token number">33</span> minutes ago   449MB
centos       centos7.5.1804   cf49811e3cdb   <span class="token number">2</span> years ago      200MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@loaclhost test<span class="token punctuation">]</span><span class="token comment"># docker run -itd --name php -p 80:80 php:latest</span>
9c4f119350e23d1902e7bd9d008de079496437a297306217ae71d51853725d47
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># curl http://192.168.100.20:80/test.php</span>
<span class="token operator">&lt;</span>table <span class="token assign-left variable">border</span><span class="token operator">=</span><span class="token string">&#39;1&#39;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>NAME<span class="token operator">&lt;</span>/th<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic.imgdb.cn/item/61ebfaff2ab3f51d9121c0de.png" alt="" loading="lazy"></p>`,4);function m(b,h){const e=i("ExternalLinkIcon");return p(),l("div",null,[r,s("p",null,[n("\uFF081\uFF09\u4F7F\u7528\u63D0\u4F9B\u7684centos:latest\u57FA\u7840\u955C\u50CF\uFF0C\u4F5C\u8005\u4E3Axianidan\u3002 \uFF082\uFF09\u5220\u9664\u7CFB\u7EDFyum\u6E90\u6587\u4EF6\uFF0C\u91C7\u7528ftp.repo\u4F5C\u4E3A\u7CFB\u7EDF\u9ED8\u8BA4yum\u6E90\u6587\u4EF6\uFF0C\u8BBE\u7F6E /opt/\u4E3A\u5DE5\u4F5C\u76EE\u5F55\u3002 \uFF083\uFF09\u5B89\u88C5httpd\u3001php\u3001php-mysql\u3001mysql\u8F6F\u4EF6\u5305\uFF0C\u5728\u5BB9\u5668\u5185\u65B0\u5EFA/var/log/httpd /var/www/html\u76EE\u5F55\u3002 \uFF084\uFF09\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CFMYSQL_ADDR\u3001MYSQL_USER\u3001MYSQL_PASS\uFF0C\u7CFB\u7EDF\u7F16\u7801\u91C7\u7528en_US.UTF-8\u683C\u5F0F\u3002 \uFF085\uFF09\u6DFB\u52A0test.php\u5230/var/www/html\u76EE\u5F55\uFF0Crun.sh\u5230/opt\u76EE\u5F55\uFF0Cbuild_table.sh \u5230/opt\u76EE\u5F55\uFF0C"),s("a",d,[n("\u8BBE\u7F6Erun.sh"),t(e)]),n("\u3001build_table.sh\u811A\u672C\u5177\u6709\u53EF\u6267\u884C\u6743\u9650\u3002 \uFF086\uFF09\u6267\u884C/opt/build_table.sh\u811A\u672C\uFF0C\u5982\u679C/bin/bash\u4E0D\u80FD\u76F4\u63A5\u8C03\u7528\uFF0C\u53EF\u4F7F\u7528\u7EDD\u5BF9\u8DEF\u5F84\u3002 \uFF087\uFF09\u66B4\u973280\u7AEF\u53E3\uFF0C\u5F00\u673A\u8FD0\u884Crun.sh\u811A\u672C\u3002")]),u,s("blockquote",null,[s("p",null,[n("\u6BB5\u843D\u5F15\u7528\u4F7F\u7528Dockerfile\u6587\u4EF6\u6784\u5EFA\u955C\u50CF\uFF0C\u7136\u540E\u4F7F\u7528\u8BE5\u955C\u50CF\u8FD0\u884C\u5BB9\u5668\uFF0C\u7AEF\u53E3\u8BBE\u7F6E\u4E3A80:80\uFF0C \u4F7F\u7528curl\u547D\u4EE4\u8BBF\u95EE\u8BE5\u5BB9\u5668\u9996\u9875"),s("a",k,[n("http://IP/test.php"),t(e)])])]),v])}const _=o(c,[["render",m],["__file","06.Apache+PHP+MySQL\u67B6\u6784\u8BBF\u95EEPHP\u670D\u52A1.html.vue"]]);export{_ as default};
